import{a as w,b as n,h as t,t as d,e as k,o,p as D,u as _,C as S,q as $,F as h,k as v,j as f,l as F,n as I,D as M,c as x}from"./vendor-CYnaoYaV.js";import{_ as g,u as B}from"./index-DfVD50Wy.js";const N={class:"mst-dashboard-section"},T={class:"mst-dashboard-section__title"},V={class:"mst-dashboard-section__grid"},A=w({__name:"DashboardSection",props:{title:{}},setup(a){return(u,r)=>(o(),n("section",N,[t("h3",T,d(a.title),1),t("div",V,[k(u.$slots,"default",{},void 0,!0)])]))}}),K=g(A,[["__scopeId","data-v-2101a640"]]),R={class:"mst-canvas-card"},U={key:0,class:"mst-canvas-card__preview"},q=["src"],L={key:1,class:"mst-canvas-card__preview mst-canvas-card__preview--placeholder"},j={class:"mst-canvas-card__body"},z={class:"mst-canvas-card__title"},E={class:"mst-canvas-card__meta"},O={class:"mst-canvas-card__author"},P=["aria-label"],Y=w({__name:"CanvasCard",props:{canvas:{},showFavorite:{type:Boolean},showMessage:{type:Boolean}},emits:["toggle-favorite"],setup(a,{emit:u}){const r=a,p=M(),c=B(),y=u,m=x(()=>{const e=r.canvas.owner;if(!e)return null;const s=c.user?.id&&String(e)===String(c.user.id),i=s?c.user?.username:r.canvas.ownerUsername,l=s?c.user?.id:e;return`${i&&i.trim()?i.trim():"User"}#${l}`});function C(e){e.preventDefault(),e.stopPropagation(),r.canvas.owner&&r.canvas.owner!==c.user?.id&&p.push({path:"/app/messages",query:{userId:r.canvas.owner}})}function b(e){const s=new Date(e),l=new Date().getTime()-s.getTime();return l<864e5?"Today":l<1728e5?"Yesterday":s.toLocaleDateString()}return(e,s)=>(o(),n("article",R,[D(_(S),{to:{name:"canvas-editor",params:{id:a.canvas.id}},class:"mst-canvas-card__link"},{default:$(()=>[a.canvas.previewImage?(o(),n("div",U,[t("img",{src:a.canvas.previewImage,alt:""},null,8,q)])):(o(),n("div",L,[...s[1]||(s[1]=[t("span",{class:"mst-canvas-card__placeholder-label"},"Canvas",-1)])])),t("div",j,[t("h4",z,d(a.canvas.name),1),t("p",E,[m.value?(o(),n(h,{key:0},[t("span",O,d(m.value),1),s[2]||(s[2]=t("span",null," · ",-1))],64)):v("",!0),f(" "+d(b(a.canvas.updatedAt))+" ",1),a.canvas.stats?.elementsCount?(o(),n(h,{key:1},[f(" · "+d(a.canvas.stats.elementsCount)+" items ",1)],64)):v("",!0)])])]),_:1},8,["to"]),a.showFavorite!==!1?(o(),n("button",{key:0,type:"button",class:I(["mst-canvas-card__fav",{"mst-canvas-card__fav--on":a.canvas.isFavorite}]),"aria-label":a.canvas.isFavorite?"Remove from favorites":"Add to favorites",onClick:s[0]||(s[0]=F(i=>y("toggle-favorite",a.canvas.id),["prevent"]))}," ★ ",10,P)):v("",!0),a.showMessage&&a.canvas.owner&&a.canvas.owner!==_(c).user?.id?(o(),n("button",{key:1,type:"button",class:"mst-canvas-card__msg","aria-label":"Message owner",onClick:C}," Message ")):v("",!0)]))}}),Q=g(Y,[["__scopeId","data-v-a9057163"]]);export{Q as C,K as D};
