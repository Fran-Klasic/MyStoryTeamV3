import{d as C,i as A,c as u,a as t,A as v,B as _,b as g,w as y,r as w,o as n,F as B,y as S,z as V,k as D,n as k,_ as x}from"./index-t2dBj-RG.js";import{D as N,C as h}from"./CanvasCard-DzK2N7Oz.js";import{u as L}from"./canvas.store-1lBrhjHm.js";const U={class:"mst-browse"},E={class:"mst-browse__filters"},F={class:"mst-browse__filter-label"},M={class:"mst-browse__filter-label"},O={key:0,class:"mst-browse__empty"},P=C({__name:"BrowseView",setup(T){const m=L(),d=w("updatedAt"),i=w("desc");A(async()=>{await m.loadPublicCanvases()});const p=k(()=>{const c=[...m.publicCanvases],e=d.value,s=i.value==="asc";return c.sort((r,l)=>{let a,o;if(e==="name")return a=(r.name??"").toLowerCase(),o=(l.name??"").toLowerCase(),s?String(a).localeCompare(String(o)):String(o).localeCompare(String(a));const b=e==="createdAt"?r.createdAt??r.updatedAt??"":r.updatedAt??r.createdAt??"",f=e==="createdAt"?l.createdAt??l.updatedAt??"":l.updatedAt??l.createdAt??"";return a=new Date(b).getTime(),o=new Date(f).getTime(),s?a-o:o-a}),c});return(c,e)=>(n(),u("div",U,[e[6]||(e[6]=t("header",{class:"mst-browse__header"},[t("h1",{class:"mst-browse__title"},"Browse"),t("p",{class:"mst-browse__subtitle"},"Explore public canvases shared by the community.")],-1)),t("div",E,[t("label",F,[e[3]||(e[3]=t("span",null,"Sort by",-1)),v(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"mst-browse__select"},[...e[2]||(e[2]=[t("option",{value:"createdAt"},"Created at",-1),t("option",{value:"updatedAt"},"Updated at",-1),t("option",{value:"name"},"Name",-1)])],512),[[_,d.value]])]),t("label",M,[e[5]||(e[5]=t("span",null,"Order",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),class:"mst-browse__select"},[...e[4]||(e[4]=[t("option",{value:"asc"},"Ascending",-1),t("option",{value:"desc"},"Descending",-1)])],512),[[_,i.value]])])]),g(N,{title:"Public Canvases"},{default:y(()=>[(n(!0),u(B,null,S(p.value,s=>(n(),V(h,{key:s.id,canvas:s,"show-favorite":!1,"show-message":!0},null,8,["canvas"]))),128)),p.value.length===0?(n(),u("p",O," No public canvases yet. ")):D("",!0)]),_:1})]))}}),q=x(P,[["__scopeId","data-v-0ba361ee"]]);export{q as default};
