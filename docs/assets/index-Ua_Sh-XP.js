import{o as Ze,E as G,G as z,f as U,C as D,m as q,L as xt,a as P,b as W,P as st,c as Be,d as hi,T as et,g as li,p as H,e as Ft,h as Ot,i as Ne,j as ci,k as ze,l as di,n as ui,q as Fe,s as vt,r as Rt,t as oe,u as Ke,B as fi,v as ie,w as Kt,x as pi,y as gi,z as ut,A as _i,D as Dt,F as mi,V as yi,H as xi,I as vi,J as lt,K as N,R as Jt,M as tt,N as bi,O as wi,Q as Oe,S as ki,U as Ti,W as Re,X as Ci,Y as Si,Z as Mi,_ as _t,$ as Je,a0 as Di,a1 as He,a2 as Ei,a3 as I,a4 as Pt,a5 as Bi,a6 as At,a7 as Lt,a8 as ft,a9 as je,aa as he,ab as $e,ac as $,ad as ct}from"./ColorSet-BOh1LuAF.js";import{ae as Gs,af as Xs,ag as Vs,ah as Us,ai as qs,aj as Zs,ak as Ks,al as Js,am as js,an as $s,ao as Qs,ap as ta,aq as ea,ar as ia,as as sa,at as aa,au as ra,av as na,aw as oa,ax as ha,ay as la,az as ca}from"./ColorSet-BOh1LuAF.js";import{e as w,k as jt,r as pt,M as Nt,i as bt,a as $t,c as Pi,P as wt,b as mt,d as j,n as Ai,f as E,t as Z,g as Li,m as Ni,A as zi,D as rt,h as Fi,C as Qe,j as Pe,p as le,l as Ae,o as Ct,q as Oi,s as Ri,E as Hi,u as dt,v as Yi,w as Ye,T as gt,x as ce}from"./Theme-B_KJklAe.js";import{y as ua,z as fa,B as pa,O as ga,F as _a}from"./Theme-B_KJklAe.js";import{B as Et,R as zt,S as ti,E as Ii}from"./Scrollbar-DwA-abUg.js";import{S as Ie}from"./Slice-BJKWUNC6.js";class Wi{constructor(){this._targets=[],this._observer=new ResizeObserver(t=>{w(t,e=>{w(this._targets,i=>{i.target===e.target&&i.callback()})})})}addTarget(t,e){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:e})}removeTarget(t){this._observer.unobserve(t),jt(this._targets,e=>e.target!==t)}}class Qt{constructor(){this._timer=null,this._targets=[]}addTarget(t,e){if(this._timer===null){let s=null;const a=()=>{const r=Date.now();(s===null||r>s+Qt.delay)&&(s=r,w(this._targets,n=>{let o=n.target.getBoundingClientRect();(o.width!==n.size.width||o.height!==n.size.height)&&(n.size=o,n.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:t,callback:e,size:i})}removeTarget(t){jt(this._targets,e=>e.target!==t),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Qt.delay=200;let Ht=null;function Gi(){return Ht===null&&(typeof ResizeObserver<"u"?Ht=new Wi:Ht=new Qt),Ht}class Xi{constructor(t,e){this._disposed=!1,this._sensor=Gi(),this._element=t,this._listener=Ze(e),this._sensor.addTarget(t,e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class Wt extends G{}Wt.className="InterfaceColors";Wt.classNames=G.classNames.concat([Wt.className]);class yt extends z{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let t=this.width(),e=this.height();if(t>0&&e>0){let i=this.get("cornerRadius",8);i=U(i,0,Math.min(t/2,e/2));let s=this.get("pointerX",0),a=this.get("pointerY",0),r=this.get("pointerBaseWidth",15)/2,n=0,o=0,d=t,g=0,l=t,c=e,h=0,p=e,m=(s-n)*(c-o)-(a-o)*(l-n),u=(s-h)*(g-p)-(a-p)*(d-h);const f=this._display;if(f.moveTo(i,0),m>0&&u>0){let v=Math.round(U(s,i+r,t-r-i));a=U(a,-1/0,0),f.lineTo(v-r,0),f.lineTo(s,a),f.lineTo(v+r,0)}if(f.lineTo(t-i,0),f.arcTo(t,0,t,i,i),m>0&&u<0){let v=Math.round(U(a,i+r,e-r-i));s=U(s,t,1/0),f.lineTo(t,i),f.lineTo(t,Math.max(v-r,i)),f.lineTo(s,a),f.lineTo(t,v+r)}if(f.lineTo(t,e-i),f.arcTo(t,e,t-i,e,i),m<0&&u<0){let v=Math.round(U(s,i+r,t-r-i));a=U(a,e,1/0),f.lineTo(t-i,e),f.lineTo(v+r,e),f.lineTo(s,a),f.lineTo(v-r,e)}if(f.lineTo(i,e),f.arcTo(0,e,0,e-i,i),m<0&&u>0){let v=Math.round(U(a,i+r,e-i-r));s=U(s,-1/0,0),f.lineTo(0,e-i),f.lineTo(0,v+r),f.lineTo(s,a),f.lineTo(0,Math.max(v-r,i))}f.lineTo(0,i),f.arcTo(0,0,i,0,i),f.closePath()}}}}yt.className="PointedRectangle";yt.classNames=z.classNames.concat([yt.className]);class kt extends D{constructor(t,e,i,s=[]){super(t,e,i,s),this._fx=0,this._fy=0,this._w=0,this._h=0,this._htmlContentHovered=!1}_afterNew(){this._settings.themeTags=q(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>yt.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(xt.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",e=>{e&&(this._disposers.push(P(e,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(P(e,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",e=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",e=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),pt(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const e=this.get("background");this._keepHoverDp=new Nt([e.events.on("pointerover",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),s.hover())}),e.events.on("pointerout",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),this._htmlContentHovered||s.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(P(i,"pointerleave",s=>{const a=this.root._renderer.getEvent(s);e.events.dispatch("pointerout",{type:"pointerout",originalEvent:a.event,point:a.point,simulated:!1,target:e})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let t=this.get("tooltipTarget");const e=this.get("background");let i,s;if(t&&e){if(i=t.get("fill"),s=t.get("stroke"),i==null&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&e.set("fill",i),this._fillDp=t.on("fill",a=>{a!=null&&(e.set("fill",a),this._updateTextColor(a))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let a=t.get("fillGradient");a!=null&&e.set("fillGradient",a),this._fillGrDp=t.on("fillGradient",r=>{r!=null&&e.set("fillGradient",r)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&e.set("stroke",i),this._strokeDp=t.on("fill",a=>{a!=null&&e.set("stroke",a)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=t.on("fill",a=>{a!=null&&this.label.set("fill",a)}),this._disposers.push(this._labelDp))}this._updateTextColor(i)}_updateTextColor(t){this.get("autoTextColor")&&(t==null&&(t=this.get("background").get("fill")),t==null&&(t=this._root.interfaceColors.get("background")),t instanceof W&&this.label.set("fill",W.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(t){super._setDataItem(t),this.label._setDataItem(t)}_updateBackground(){super.updateBackground();const t=this._root.container;if(t){let e=.5,i=.5,s=this.get("centerX");s instanceof st&&(e=s.value);let a=this.get("centerY");a instanceof st&&(i=a.value);let r=t.width(),n=t.height(),o=this.parent,d=0,g=0;if(o){d=o.x(),g=o.y();const C=o.get("layerMargin");C&&(d+=C.left||0,g+=C.top||0,r+=(C.left||0)+(C.right||0),n+=(C.top||0)+(C.bottom||0))}const l=this.get("bounds",{left:-d,top:-g,right:r-d,bottom:n-g});this._updateBounds();let c=this.width(),h=this.height();c===0&&(c=this._w),h===0&&(h=this._h);let p=this.get("pointTo",{x:r/2,y:n/2}),m=p.x,u=p.y,f=this.get("pointerOrientation"),v=this.get("background"),x=0,y=0,b=0;v instanceof yt&&(x=v.get("pointerLength",0),y=v.get("strokeWidth",0)/2,b=y,v.set("width",c),v.set("height",h));let T=0,k=0,M=l.right-l.left,L=l.bottom-l.top;f=="horizontal"||f=="left"||f=="right"?(y=0,f=="horizontal"?m>l.left+M/2?(m-=c*(1-e)+x,b*=-1):m+=c*e+x:f=="left"?m+=c*(1-e)+x:(m-=c*e+x,b*=-1)):(b=0,f=="vertical"?u>l.top+h/2+x?u-=h*(1-i)+x:(u+=h*i+x,y*=-1):f=="down"?u-=h*(1-i)+x:(u+=h*i+x,y*=-1)),m=U(m,l.left+c*e,l.left+M-c*(1-e))+b,u=U(u,l.top+h*i,l.top+L-h*(1-i))-y,T=p.x-m+c*e+b,k=p.y-u+h*i-y,this._fx=m,this._fy=u;const S=this.get("animationDuration",0);if(S>0&&this.get("visible")&&this.get("opacity")>.1){const C=this.get("animationEasing");this.animate({key:"x",to:m,duration:S,easing:C}),this.animate({key:"y",to:u,duration:S,easing:C})}else this.set("x",m),this.set("y",u);v instanceof yt&&(v.set("pointerX",T),v.set("pointerY",k)),c>0&&(this._w=c),h>0&&(this._h=h)}}}kt.className="Tooltip";kt.classNames=D.classNames.concat([kt.className]);class Vi extends G{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const t="_big_number_suffix_",e="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(e+"24")},{number:1e-21,suffix:this._t(e+"21")},{number:1e-18,suffix:this._t(e+"18")},{number:1e-15,suffix:this._t(e+"15")},{number:1e-12,suffix:this._t(e+"12")},{number:1e-9,suffix:this._t(e+"9")},{number:1e-6,suffix:this._t(e+"6")},{number:.001,suffix:this._t(e+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){(e==null||bt(e)&&e.toLowerCase()==="number")&&(e=this.get("numberFormat",""));let s,a=Number(t);if($t(e))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),e).format(a):new Intl.NumberFormat(void 0,e).format(a)}catch{return"Invalid"}else{e=Be(e);let r=this.parseFormat(e,this._root.language),n;a>this.get("negativeBase")?n=r.positive:a<this.get("negativeBase")?n=r.negative:n=r.zero,i!=null&&!n.mod&&(n=Pi(n),n.decimals.active=a==0?0:i),s=n.template.split(wt).join(this.applyFormat(a,n))}return this.get("forceLTR")===!0&&(s="‎"+s),s}parseFormat(t,e){const i=e.translateEmpty("_thousandSeparator"),s=e.translateEmpty("_decimalSeparator");let a={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1}};t=t.replace("||",mt);let r=t.split("|");return a.positive.source=r[0],typeof r[2]>"u"?a.zero=a.positive:a.zero.source=r[2],typeof r[1]>"u"?a.negative=a.positive:a.negative.source=r[1],j(a,(n,o)=>{if(o.parsed)return;let d=o.source;d.toLowerCase()==="number"&&(d=this.get("numberFormat","#,###.#####"));let g=et.chunk(d,!0);for(let l=0;l<g.length;l++){let c=g[l];if(c.text=c.text.replace(mt,"|"),c.type==="value"){let h=c.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(h)if(h===null||h[0]==="")o.template+=c.text;else{let p=h[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);p&&(o.mod=p[0].toLowerCase(),o.modSpacing=!!h[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let m=h[0].split(".");if(m[0]!==""){o.thousands.active=(m[0].match(/0/g)||[]).length,o.thousands.passive=(m[0].match(/\#/g)||[]).length+o.thousands.active;let u=m[0].split(",");u.length===1||(o.thousands.interval=(u.pop()||"").length,o.thousands.interval===0&&(o.thousands.interval=-1))}typeof m[1]>"u"||(o.decimals.active=(m[1].match(/0/g)||[]).length,o.decimals.passive=(m[1].match(/\#/g)||[]).length+o.decimals.active),o.template+=c.text.split(h[0]).join(wt)}}else o.template+=c.text}o.parsed=!0}),a}applyFormat(t,e){let i=t<0;t=Math.abs(t);let s="",a="",r=e.mod?e.mod.split(""):[];if(r.indexOf("b")!==-1){let l=this.applyPrefix(t,this.get("bytePrefixes"),r.indexOf("!")!==-1);t=l[0],s=l[1],a=l[2],e.modSpacing&&(a=" "+a)}else if(r.indexOf("a")!==-1){let l=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),r.indexOf("!")!==-1);t=l[0],s=l[1],a=l[2],e.modSpacing&&(a=" "+a)}else if(r.indexOf("p")!==-1){let l=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(l)),s=this._root.language.translate("_percentPrefix"),a=this._root.language.translate("_percentSuffix"),s==""&&a==""&&(a="%")}else if(r.indexOf("%")!==-1){let l=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(l)),a="%"}else if(r.indexOf("‰")!==-1){let l=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(l)),a="‰"}if(r.indexOf("e")!==-1){let l;e.decimals.passive>=0?l=t.toExponential(e.decimals.passive).split("e"):l=t.toExponential().split("e"),t=Number(l[0]),a="e"+l[1],e.modSpacing&&(a=" "+a)}else if(e.decimals.passive===0)t=Math.round(t);else if(e.decimals.passive>0){const l=hi(t);if(l>0){const c=Math.pow(10,e.decimals.passive);t=Math.round(parseFloat((t*c).toFixed(l)))/c}}let n="",o=Ai(t).split("."),d=o[0];if(d.length<e.thousands.active&&(d=Array(e.thousands.active-d.length+1).join("0")+d),e.thousands.interval>0){let l=[],c=d.split("").reverse().join("");for(let h=0,p=d.length;h<=p;h+=e.thousands.interval){let m=c.substr(h,e.thousands.interval).split("").reverse().join("");m!==""&&l.unshift(m)}d=l.join(e.thousands.separator)}n+=d,o.length===1&&o.push("");let g=o[1];return g.length<e.decimals.active&&(g+=Array(e.decimals.active-g.length+1).join("0")),g!==""&&(n+=e.decimals.separator+g),n===""&&(n="0"),t!==0&&i&&r.indexOf("s")===-1&&(n="-"+n),s&&(n=s+n),a&&(n+=a),n}applyPrefix(t,e,i=!1){let s=t,a="",r="",n=!1,o=1;for(let d=0,g=e.length;d<g;d++)e[d].number<=t&&(e[d].number===0?s=0:(s=t/e[d].number,o=e[d].number),a=e[d].prefix,r=e[d].suffix,n=!0);return!n&&i&&e.length&&t!=0&&(s=t/e[0].number,a=e[0].prefix,r=e[0].suffix,n=!0),n&&(s=parseFloat(s.toPrecision(Math.min(o.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,a,r]}escape(t){return t.replace("||",mt)}unescape(t){return t.replace(mt,"|")}}function ei(_,t){let e=0,i=0,s=1,a=0,r=0,n=0,o=0,d=0;return _.formatToParts(t).forEach(g=>{switch(g.type){case"year":e=+g.value;break;case"month":i=+g.value-1;break;case"day":s=+g.value;break;case"hour":a=+g.value;break;case"minute":r=+g.value;break;case"second":n=+g.value;break;case"fractionalSecond":o=+g.value;break;case"weekday":switch(g.value){case"Sun":d=0;break;case"Mon":d=1;break;case"Tue":d=2;break;case"Wed":d=3;break;case"Thu":d=4;break;case"Fri":d=5;break;case"Sat":d=6;break}}}),a===24&&(a=0),{year:e,month:i,day:s,hour:a,minute:r,second:n,millisecond:o,weekday:d}}function We(_,t){const{year:e,month:i,day:s,hour:a,minute:r,second:n,millisecond:o}=ei(_,t);return Date.UTC(e,i,s,a,r,n,o)}class Ui{constructor(t,e){if(!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(t){return new this(t,!0)}convertLocal(t){const e=this.offsetUTC(t),i=t.getTimezoneOffset(),s=new Date(t);s.setUTCMinutes(s.getUTCMinutes()-(e-i));const a=s.getTimezoneOffset();return i!=a&&s.setUTCMinutes(s.getUTCMinutes()+a-i),s}offsetUTC(t){const e=We(this._utc,t),i=We(this._dtf,t);return(e-i)/6e4}parseDate(t){return ei(this._dtf,t)}}class qi extends G{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i=!1){(typeof e>"u"||e==="")&&(e=this.get("dateFormat","yyyy-MM-dd"));let s,a=t;if($t(e))try{const d=this.get("intlLocales");return d?new Intl.DateTimeFormat(d,e).format(a):new Intl.DateTimeFormat(void 0,e).format(a)}catch{return"Invalid"}let r=this.parseFormat(e);const n=this._root.timezone;let o=a;return n&&!this._root.utc&&!i&&(a=n.convertLocal(a)),E(a.getTime())?(s=this.applyFormat(a,r,i,o),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(t,e,i=!1,s){let a=e.template,r,n,o,d,g,l,c,h,p=t.getTime();this._root.utc&&!i?(r=t.getUTCFullYear(),n=t.getUTCMonth(),o=t.getUTCDay(),d=t.getUTCDate(),g=t.getUTCHours(),l=t.getUTCMinutes(),c=t.getUTCSeconds(),h=t.getUTCMilliseconds()):(r=t.getFullYear(),n=t.getMonth(),o=t.getDay(),d=t.getDate(),g=t.getHours(),l=t.getMinutes(),c=t.getSeconds(),h=t.getMilliseconds());for(let m=0,u=e.parts.length;m<u;m++){let f="";switch(e.parts[m]){case"G":f=this._t(r<0?"_era_bc":"_era_ad");break;case"yyyy":f=Math.abs(r).toString(),r<0&&(f+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":f=Math.abs(r).toString().substr(-e.parts[m].length),r<0&&(f+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let v=di(t,this._root.utc);e.parts[m]=="YYYY"?f=Math.abs(v).toString():f=Math.abs(v).toString().substr(-e.parts[m].length),v<0&&(f+=this._t("_era_bc"));break;case"u":break;case"q":f=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":f=this._t(this._getMonth(n)).substr(0,1);break;case"MMMM":f=this._t(this._getMonth(n));break;case"MMM":f=this._t(this._getShortMonth(n));break;case"MM":f=H(n+1,2,"0");break;case"M":f=(n+1).toString();break;case"ww":f=H(ze(t,this._root.utc),2,"0");break;case"w":f=ze(t,this._root.utc).toString();break;case"W":f=ci(t,this._root.utc).toString();break;case"dd":f=H(d,2,"0");break;case"d":f=d.toString();break;case"DD":case"DDD":f=H(Ne(t,this._root.utc).toString(),e.parts[m].length,"0");break;case"D":f=Ne(t,this._root.utc).toString();break;case"F":break;case"g":break;case"t":f=this._root.language.translateFunc("_dateOrd").call(this,d);break;case"E":f=(o||7).toString();break;case"EE":f=H((o||7).toString(),2,"0");break;case"EEE":case"eee":f=this._t(this._getShortWeekday(o));break;case"EEEE":case"eeee":f=this._t(this._getWeekday(o));break;case"EEEEE":case"eeeee":f=this._t(this._getShortWeekday(o)).substr(0,1);break;case"e":case"ee":f=(o-(this._root.locale.firstDayOfWeek||1)+1).toString(),e.parts[m]=="ee"&&(f=H(f,2,"0"));break;case"a":g>=12?f=this._t("PM"):f=this._t("AM");break;case"aa":g>=12?f=this._t("P.M."):f=this._t("A.M.");break;case"aaa":g>=12?f=this._t("P"):f=this._t("A");break;case"h":f=Ot(g).toString();break;case"hh":f=H(Ot(g),2,"0");break;case"H":f=g.toString();break;case"HH":f=H(g,2,"0");break;case"K":f=Ot(g,0).toString();break;case"KK":f=H(Ot(g,0),2,"0");break;case"k":f=(g+1).toString();break;case"kk":f=H(g+1,2,"0");break;case"m":f=l.toString();break;case"mm":f=H(l,2,"0");break;case"s":f=c.toString();break;case"ss":f=H(c,2,"0");break;case"S":case"SS":case"SSS":f=Math.round(h/1e3*Math.pow(10,e.parts[m].length)).toString();break;case"x":f=p.toString();break;case"n":case"nn":case"nnn":f=H(h,e.parts[m].length,"0");break;case"z":f=Ft(s||t,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":f=Ft(s||t,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":f=Ft(s||t,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":f=Ft(s||t,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let x=this._root.utc?"UTC":this._root.timezone;x instanceof Ui&&(x=x.name);const y=x?li(x,s||t):t.getTimezoneOffset();let b=Math.abs(y)/60,T=Math.floor(b),k=b*60-T*60;this._root.utc&&(T=0,k=0),e.parts[m]=="Z"?(f="GMT",f+=y>0?"-":"+",f+=H(T,2)+":"+H(k,2)):(f=y>0?"-":"+",f+=H(T,2)+H(k,2));break;case"i":f=t.toISOString();break;case"I":f=t.toUTCString();break}a=a.replace(wt,f)}return a}parseFormat(t){let e={template:"",parts:[]},i=et.chunk(t,!0);for(let s=0;s<i.length;s++){let a=i[s];if(a.type==="value"){if(a.text.match(/^date$/i)){let n=this.get("dateFormat","yyyy-MM-dd");bt(n)||(n="yyyy-MM-dd"),a.text=n}let r=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(r)for(let n=0;n<r.length;n++)e.parts.push(r[n]),a.text=a.text.replace(r[n],wt)}e.template+=a.text}return e}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(t){return this._months()[t]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(t){return this._shortMonths()[t]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(t){return this._weekdays()[t]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(t){return this._shortWeekdays()[t]}parse(t,e,i){if(typeof i>"u"&&(i=this._root.utc),t instanceof Date)return t;if(E(t))return new Date(t);if(e=="x")return new Date(parseInt(t));bt(t)||(t=t.toString());let s,a="";e=Be(e),e=e.substr(0,t.length);let r=this.parseFormat(e),n={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:i},d=0,g=0;for(let h=0;h<r.parts.length;h++){switch(g=h+d+1,r.parts[h]){case"yyyy":case"YYYY":a+="([0-9]{4})",n.year=g;break;case"yyy":case"YYY":a+="([0-9]{3})",n.year3=g;break;case"yy":case"YY":a+="([0-9]{2})",n.year2=g;break;case"y":case"Y":a+="([0-9]{1})",n.year1=g;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",n.monthLong=g;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",n.monthShort=g;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",n.month=g;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",n.week=g;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",n.day=g;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.yearDay=g;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",n.weekdayLong=g;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",n.weekdayShort=g;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",n.am=g;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",n.hour12Base1=g;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",n.hourBase0=g;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",n.hour12Base0=g;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",n.hourBase1=g;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",n.minute=g;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",n.second=g;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.millisecond=g,n.millisecondDigits=r.parts[h].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",n.millisecond=g;break;case"x":a+="([0-9]{1,})",n.timestamp=g;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",n.zone=g;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",n.zone=g;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",n.iso=g,d+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":d--;break}a+="[^0-9]*"}let l=new RegExp(a),c=t.match(l);if(c){if(n.year>-1&&(o.year=parseInt(c[n.year])),n.year3>-1){let h=parseInt(c[n.year3]);h+=1e3,o.year=h}if(n.year2>-1){let h=parseInt(c[n.year2]);h>50?h+=1e3:h+=2e3,o.year=h}if(n.year1>-1){let h=parseInt(c[n.year1]);h=Math.floor(new Date().getFullYear()/10)*10+h,o.year=h}if(n.monthLong>-1&&(o.month=this.resolveMonth(c[n.monthLong])),n.monthShort>-1&&(o.month=this.resolveShortMonth(c[n.monthShort])),n.month>-1&&(o.month=parseInt(c[n.month])-1),n.week>-1&&n.day===-1&&(o.month=0,o.day=ui(parseInt(c[n.week]),o.year,1,i)),n.day>-1&&(o.day=parseInt(c[n.day])),n.yearDay>-1&&(o.month=0,o.day=parseInt(c[n.yearDay])),n.hourBase0>-1&&(o.hour=parseInt(c[n.hourBase0])),n.hourBase1>-1&&(o.hour=parseInt(c[n.hourBase1])-1),n.hour12Base0>-1){let h=parseInt(c[n.hour12Base0]);h==11&&(h=0),n.am>-1&&!this.isAm(c[n.am])&&(h+=12),o.hour=h}if(n.hour12Base1>-1){let h=parseInt(c[n.hour12Base1]);h==12&&(h=0),n.am>-1&&!this.isAm(c[n.am])&&(h+=12),o.hour=h}if(n.minute>-1&&(o.minute=parseInt(c[n.minute])),n.second>-1&&(o.second=parseInt(c[n.second])),n.millisecond>-1){let h=parseInt(c[n.millisecond]);n.millisecondDigits==2?h*=10:n.millisecondDigits==1&&(h*=100),o.millisecond=h}if(n.timestamp>-1){o.timestamp=parseInt(c[n.timestamp]);const h=new Date(o.timestamp);o.year=h.getUTCFullYear(),o.month=h.getUTCMonth(),o.day=h.getUTCDate(),o.hour=h.getUTCHours(),o.minute=h.getUTCMinutes(),o.second=h.getUTCSeconds(),o.millisecond=h.getUTCMilliseconds()}n.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[n.zone])),n.iso>-1&&(o.year=Z(c[n.iso+0]),o.month=Z(c[n.iso+1])-1,o.day=Z(c[n.iso+2]),o.hour=Z(c[n.iso+3]),o.minute=Z(c[n.iso+4]),o.second=Z(c[n.iso+5]),o.millisecond=Z(c[n.iso+6]),c[n.iso+7]=="Z"||c[n.iso+7]=="z"?o.utc=!0:c[n.iso+7]!=""&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[n.iso+7]))),o.utc?s=new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):s=new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else s=new Date(t);return s}resolveTimezoneOffset(t,e){if(e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let s=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),a=s[1],r=s[2],n=s[3],o=parseInt(r)*60+parseInt(n);a=="+"&&(o*=-1);let d=(t||new Date).getTimezoneOffset();return o-d}return 0}resolveMonth(t){let e=this._months().indexOf(t);return e>-1||!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._months()).indexOf(t),e>-1)?e:0}resolveShortMonth(t){let e=this._shortMonths().indexOf(t);return e>-1||(e=this._months().indexOf(t),e>-1)||this._root.language&&!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._shortMonths()).indexOf(t),e>-1)?e:0}isAm(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1}getStringList(t){let e=[];for(let i=0;i<t.length;i++)this._root.language?e.push(Fe(this._t(t[i]))):e.push(Fe(t[i]));return e}}class Zi extends G{constructor(){super(...arguments),this._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}}_setDefaults(){const t="_duration_millisecond",e="_duration_second",i="_duration_minute",s="_duration_hour",a="_duration_day",r="_duration_week",n="_duration_month",o="_duration_year",d="_second",g="_minute",l="_hour",c="_day",h="_week",p="_week",m="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+d),minute:this._t(t+g),hour:this._t(t+l),day:this._t(t+c),week:this._t(t+h),month:this._t(t+p),year:this._t(t+m)},second:{second:this._t(e),minute:this._t(e+g),hour:this._t(e+l),day:this._t(e+c),week:this._t(e+h),month:this._t(e+p),year:this._t(e+m)},minute:{minute:this._t(i),hour:this._t(i+l),day:this._t(i+c),week:this._t(i+h),month:this._t(i+p),year:this._t(i+m)},hour:{hour:this._t(s),day:this._t(s+c),week:this._t(s+h),month:this._t(s+p),year:this._t(s+m)},day:{day:this._t(a),week:this._t(a+h),month:this._t(a+p),year:this._t(a+m)},week:{week:this._t(r),month:this._t(r+p),year:this._t(r+m)},month:{month:this._t(n),year:this._t(n+m)},year:{year:this._t(o)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){let s=i||this.get("baseUnit");(typeof e>"u"||e==="")&&(this.get("durationFormat")!=null?e=this.get("durationFormat"):e=this.getFormat(Z(t),void 0,s)),e=Be(e);let a=this.parseFormat(e,s),r=Number(t),n;r>this.get("negativeBase")?n=a.positive:r<this.get("negativeBase")?n=a.negative:n=a.zero;let o=this.applyFormat(r,n);return n.color!==""&&(o="["+n.color+"]"+o+"[/]"),o}parseFormat(t,e){let i=e||this.get("baseUnit"),s={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};t=t.replace("||",mt);let a=t.split("|");return s.positive.source=a[0],typeof a[2]>"u"?s.zero=s.positive:s.zero.source=a[2],typeof a[1]>"u"?s.negative=s.positive:s.negative.source=a[1],j(s,(r,n)=>{if(n.parsed)return;let o=n.source,d=[];d=n.source.match(/^\[([^\]]*)\]/),d&&d.length&&d[0]!==""&&(o=n.source.substr(d[0].length),n.color=d[1]);let g=et.chunk(o,!0);for(let l=0;l<g.length;l++){let c=g[l];if(c.text=c.text.replace(mt,"|"),c.type==="value"){c.text.match(/[yYMdDwhHKkmsSn]+a/)&&(n.absolute=!0,c.text=c.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let h=c.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(h)for(let p=0;p<h.length;p++)h[p]==null&&(h[p]=this._unitAliases[h[p]]),n.parts.push(h[p]),c.text=c.text.replace(h[p],wt)}n.template+=c.text}n.parsed=!0}),s}applyFormat(t,e){let i=!e.absolute&&t<this.get("negativeBase");t=Math.abs(t);let s=this.toTimeStamp(t,e.baseUnit),a=e.template;const r={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let n=0,o=e.parts.length;n<o;n++){let d=e.parts[n],g=this._toTimeUnit(d.substr(0,1)),l;const c=this._getUnitValue(g);n<o-1?l=Math.floor(s/c):l=Math.round(s/c),r[g]+=l,s-=l*c}j(r,(n,o)=>{n=="millisecond"&&o==1e3?(r.second++,r.millisecond=0):n=="second"&&o==60?(r.minute++,r.second=0):n=="minute"&&o==60?(r.hour++,r.minute=0):n=="hour"&&o==24?(r.day++,r.hour=0):n=="day"&&o==7&&e.parts.indexOf("w")!==-1?(r.week++,r.day=0):n=="day"&&o==30?(r.month++,r.day=0):n=="month"&&o==12&&(r.year++,r.month=0)});for(let n=0,o=e.parts.length;n<o;n++){let d=e.parts[n],g=this._toTimeUnit(d.substr(0,1)),l=d.length;a=a.replace(wt,H(r[g],l,"0"))}return i&&(a="-"+a),a}toTimeStamp(t,e){return t*this._getUnitValue(e)}_toTimeUnit(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(t,e,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),e!=null&&t!=e){t=Math.abs(t),e=Math.abs(e);let s=this.getValueUnit(Math.max(t,e),i);return this.get("durationFormats")[i][s]}else{let s=this.getValueUnit(t,i);return this.get("durationFormats")[i][s]}}getValueUnit(t,e){e||(e=this.get("baseUnit"));let i,s=this.getMilliseconds(t,e);return Li(this._getUnitValues(),(a,r)=>{if(a==e||i){if(s/r<=1)return i||(i=a),!1;i=a}return!0}),i}getMilliseconds(t,e){return e||(e=this.get("baseUnit")),t*this._getUnitValue(e)}_getUnitValue(t){return this._getUnitValues()[t]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const ii={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_short:"HH",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(_){let t="th";if(_<11||_>13)switch(_%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:"",Confirm:""};class Ki extends G{_setDefaults(){this.setPrivate("defaultLocale",ii),super._setDefaults()}translate(t,e,...i){e||(e=this._root.locale||this.getPrivate("defaultLocale"));let s=t,a=e[t];if(a===null)s="";else if(a!=null)a&&(s=a);else if(e!==this.getPrivate("defaultLocale"))return this.translate(t,this.getPrivate("defaultLocale"),...i);if(i.length)for(let r=i.length,n=0;n<r;++n)s=s.split("%"+(n+1)).join(i[n]);return s}translateAny(t,e,...i){return this.translate(t,e,...i)}setTranslationAny(t,e,i){const s=i||this._root.locale;s[t]=e}setTranslationsAny(t,e){j(t,(i,s)=>{this.setTranslationAny(i,s,e)})}translateEmpty(t,e,...i){let s=this.translate(t,e,...i);return s==t?"":s}translateFunc(t,e){return this._root.locale[t]?this._root.locale[t]:e!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):()=>""}translateAll(t,e){return this.isDefault()?t:Ni(t,i=>this.translate(i,e))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class se{constructor(t=1,e=0,i=0,s=1,a=0,r=0){this.a=t,this.b=e,this.c=i,this.d=s,this.tx=a,this.ty=r}setTransform(t,e,i,s,a,r=1){this.a=Math.cos(a)*r,this.b=Math.sin(a)*r,this.c=-Math.sin(a)*r,this.d=Math.cos(a)*r,this.tx=t-(i*this.a+s*this.c),this.ty=e-(i*this.b+s*this.d)}apply(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}applyInverse(t){const e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*t.x+-this.c*e*t.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*t.y+-this.b*e*t.x+(-this.ty*this.a+this.tx*this.b)*e}}append(t){const e=this.a,i=this.b,s=this.c,a=this.d;this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*a,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*a,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*a+this.ty}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,s=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=s*t.a+this.d*t.c,this.d=s*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}}var Ji=(function(){function _(t,e){var i=[],s=!0,a=!1,r=void 0;try{for(var n=t[Symbol.iterator](),o;!(s=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));s=!0);}catch(d){a=!0,r=d}finally{try{!s&&n.return&&n.return()}finally{if(a)throw r}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return _(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),Bt=Math.PI*2,ae=function(t,e,i,s,a,r,n){var o=t.x,d=t.y;o*=e,d*=i;var g=s*o-a*d,l=a*o+s*d;return{x:g+r,y:l+n}},ji=function(t,e){var i=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=Math.cos(t),a=Math.sin(t),r=Math.cos(t+e),n=Math.sin(t+e);return[{x:s-a*i,y:a+s*i},{x:r+n*i,y:n-r*i},{x:r,y:n}]},Ge=function(t,e,i,s){var a=t*s-e*i<0?-1:1,r=t*i+e*s;return r>1&&(r=1),r<-1&&(r=-1),a*Math.acos(r)},$i=function(t,e,i,s,a,r,n,o,d,g,l,c){var h=Math.pow(a,2),p=Math.pow(r,2),m=Math.pow(l,2),u=Math.pow(c,2),f=h*p-h*u-p*m;f<0&&(f=0),f/=h*u+p*m,f=Math.sqrt(f)*(n===o?-1:1);var v=f*a/r*c,x=f*-r/a*l,y=g*v-d*x+(t+i)/2,b=d*v+g*x+(e+s)/2,T=(l-v)/a,k=(c-x)/r,M=(-l-v)/a,L=(-c-x)/r,S=Ge(1,0,T,k),C=Ge(T,k,M,L);return o===0&&C>0&&(C-=Bt),o===1&&C<0&&(C+=Bt),[y,b,S,C]},Qi=function(t){var e=t.px,i=t.py,s=t.cx,a=t.cy,r=t.rx,n=t.ry,o=t.xAxisRotation,d=o===void 0?0:o,g=t.largeArcFlag,l=g===void 0?0:g,c=t.sweepFlag,h=c===void 0?0:c,p=[];if(r===0||n===0)return[];var m=Math.sin(d*Bt/360),u=Math.cos(d*Bt/360),f=u*(e-s)/2+m*(i-a)/2,v=-m*(e-s)/2+u*(i-a)/2;if(f===0&&v===0)return[];r=Math.abs(r),n=Math.abs(n);var x=Math.pow(f,2)/Math.pow(r,2)+Math.pow(v,2)/Math.pow(n,2);x>1&&(r*=Math.sqrt(x),n*=Math.sqrt(x));var y=$i(e,i,s,a,r,n,l,h,m,u,f,v),b=Ji(y,4),T=b[0],k=b[1],M=b[2],L=b[3],S=Math.abs(L)/(Bt/4);Math.abs(1-S)<1e-7&&(S=1);var C=Math.max(Math.ceil(S),1);L/=C;for(var O=0;O<C;O++)p.push(ji(M,L)),M+=L;return p.map(function(R){var ht=ae(R[0],r,n,u,m,T,k),Y=ht.x,ee=ht.y,B=ae(R[1],r,n,u,m,T,k),V=B.x,K=B.y,Q=ae(R[2],r,n,u,m,T,k),Tt=Q.x,J=Q.y;return{x1:Y,y1:ee,x2:V,y2:K,x:Tt,y:J}})};function ts(_,t,e){if(t!==e)throw new Error("Required "+e+" arguments for "+_+" but got "+t)}function St(_,t,e){if(t<e)throw new Error("Required at least "+e+" arguments for "+_+" but got "+t)}function X(_,t,e){if(St(_,t,e),t%e!==0)throw new Error("Arguments for "+_+" must be in pairs of "+e)}function es(_){for(let t=0;t<_.length;t+=7){let e=t+3,i=_[e];if(i.length>1){const s=/^([01])([01])(.*)$/.exec(i);s!==null&&(_.splice(e,0,s[1]),++e,_.splice(e,0,s[2]),++e,s[3].length>0?_[e]=s[3]:_.splice(e,1))}if(++e,i=_[e],i.length>1){const s=/^([01])(.+)$/.exec(i);s!==null&&(_.splice(e,0,s[1]),++e,_[e]=s[2])}}}function Xe(_){if(_===0||_===1)return _;throw new Error("Flag must be 0 or 1")}function is(_){const t=[0,0,0];for(let e=0;e<24;e++)t[e%3]<<=1,t[e%3]|=_&1,_>>=1;return(t[0]|0)+(t[1]<<8)+(t[2]<<16)}function Yt(_,t){for(;!(_.interactive&&!t(_));)if(_._parent)_=_._parent;else break}function ss(_,t,e){return P(_,oe(t),i=>{const s=Ke(i);let a=i.touches;a?(a.length==0&&(a=i.changedTouches),e(Ct(a),s)):e([i],s)})}function Ve(_){const t=document.createElement("canvas");t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.drawImage(_,0,0,1,1);try{return e.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+_.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Mt(_){_.width=0,_.height=0,_.style.width="0px",_.style.height="0px"}function Ue(_){return Math.floor(_)+.5}class as{constructor(){this._x=0,this._y=0}get x(){return this._x}get y(){return this._y}set x(t){this._x=t}set y(t){this._y=t}}class te extends Oi{constructor(t){super(),this.mask=null,this.visible=!0,this.exportable=!0,this.interactive=!1,this.inactive=null,this.wheelable=!1,this.cancelTouch=!1,this.isMeasured=!1,this.buttonMode=!1,this.alpha=1,this.compoundAlpha=1,this.angle=0,this.scale=1,this.x=0,this.y=0,this.crisp=!1,this.pivot=new as,this._localMatrix=new se,this._matrix=new se,this._uMatrix=new se,this._renderer=t}subStatus(t){return{inactive:this.inactive==null?t.inactive:this.inactive,layer:this._layer||t.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let t=this;for(;;){if(t._layer)return t._layer;if(t._parent)t=t._parent;else return this._renderer.defaultLayer}}setLayer(t,e){t==null?this._layer=void 0:(this._layer=this._renderer.getLayer(t,!0),this._layer.visible=!0,this._layer.margin=e,e&&ut(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(t){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(t){return!t.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(t){return this._isInteractive(t)}contains(t){for(;;){if(t===this)return!0;if(t._parent)t=t._parent;else return!1}}toGlobal(t){return this._matrix.apply(t)}toLocal(t){return this._matrix.applyInverse(t)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(t){this._setMatrix();const e=this.getLocalMatrix(),i=e.apply({x:t.left,y:t.top}),s=e.apply({x:t.right,y:t.top}),a=e.apply({x:t.right,y:t.bottom}),r=e.apply({x:t.left,y:t.bottom});return{left:Math.min(i.x,s.x,a.x,r.x),top:Math.min(i.y,s.y,a.y,r.y),right:Math.max(i.x,s.x,a.x,r.x),bottom:Math.max(i.y,s.y,a.y,r.y)}}on(t,e,i){return this.interactive?this._renderer._addEvent(this,t,e,i):new rt(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(t,e){const i=this._matrix;let s=i.tx*e,a=i.ty*e;this.crisp&&(s=Ue(s),a=Ue(a)),t.setTransform(i.a*e,i.b*e,i.c*e,i.d*e,s,a)}_transformMargin(t,e,i){const s=this._matrix;t.setTransform(s.a*e,s.b*e,s.c*e,s.d*e,(s.tx+i.left)*e,(s.ty+i.top)*e)}_transformLayer(t,e,i){i.margin?this._transformMargin(t,i.scale||e,i.margin):this._transform(t,i.scale||e)}render(t,e=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const i=this.subStatus(t),s=this._renderer.resolution,a=this._renderer.layers,r=this._renderer._ghostLayer,n=r.context,o=this.mask;o&&o._setMatrix(),w(a,d=>{if(d){const g=d.context;g.save(),o&&(o._transformLayer(g,s,d),o._runPath(g),g.clip()),g.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(g,s,d),this.filter&&(g.filter=this.filter)}}),n.save(),o&&this._isInteractiveMask(i)&&(o._transformMargin(n,s,r.margin),o._runPath(n),n.clip()),this._transformMargin(n,s,r.margin),i.layer.order>0&&!e&&Ri(this._renderer._deferredGhostLayers,i.layer.order),this._render(i,e),n.restore(),w(a,d=>{d&&d.context.restore()})}}_render(t,e=0){this.exportable===!1&&(t.layer.tainted=!0)}_ghostOnly(t=0){return t>0}_drawGhost(t,e=0){const i=this._isInteractive(t),s=t.layer.order||0;return!!(i&&(s==0&&!this._ghostOnly(e)||s==e))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(t=>t.value===this)}shouldCancelTouch(){const t=this._renderer;return t.tapToActivate&&!t._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class rs extends te{constructor(){super(...arguments),this.interactiveChildren=!0,this._children=[]}_isInteractiveMask(t){return this.interactiveChildren||super._isInteractiveMask(t)}addChild(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}addChildAt(t,e){t._parent=this,this._children.splice(e,0,t),t._layer&&this.registerChildLayer(t._layer)}removeChild(t){t._parent=void 0,Pe(this._children,t)}_render(t,e){super._render(t);const i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive,w(this._children,s=>{s.compoundAlpha=this.compoundAlpha*this.alpha,s.render(t,e)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}registerChildLayer(t){this._childLayers||(this._childLayers=[]),le(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}markDirtyLayer(t=!1){super.markDirtyLayer(),t&&this._childLayers&&w(this._childLayers,e=>e.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&w(this._childLayers,t=>{t.dirty=!0})}}function A(_,t){_.left=Math.min(_.left,t.x),_.top=Math.min(_.top,t.y),_.right=Math.max(_.right,t.x),_.bottom=Math.max(_.bottom,t.y)}class F{colorize(t,e){}colorizeGhost(t,e){this.colorize(t,e)}path(t){}pathGhost(t){this.path(t)}addBounds(t){}}class ns extends F{colorize(t,e){t.beginPath()}}class re extends F{constructor(t){super(),this.color=t}colorize(t,e){e!==void 0?t.fillStyle=e:t.fillStyle=this.color}}class os extends F{constructor(t){super(),this.clearShadow=t}colorize(t,e){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}class hs extends F{colorize(t,e){t.stroke()}}class ne extends F{constructor(t,e,i,s){super(),this.width=t,this.color=e,this.lineJoin=i,this.lineCap=s}colorize(t,e){e!==void 0?t.strokeStyle=e:t.strokeStyle=this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin),this.lineCap&&(t.lineCap=this.lineCap)}}class ls extends F{constructor(t){super(),this.dash=t}colorize(t,e){t.setLineDash(this.dash)}}class cs extends F{constructor(t){super(),this.dashOffset=t}colorize(t,e){t.lineDashOffset=this.dashOffset}}class ds extends F{constructor(t,e,i,s){super(),this.x=t,this.y=e,this.width=i,this.height=s}path(t){t.rect(this.x,this.y,this.width,this.height)}addBounds(t){const e=this.x,i=this.y,s=e+this.width,a=i+this.height;A(t,{x:e,y:i}),A(t,{x:s,y:i}),A(t,{x:e,y:a}),A(t,{x:s,y:a})}}class us extends F{constructor(t,e,i){super(),this.x=t,this.y=e,this.radius=i}path(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(t){A(t,{x:this.x-this.radius,y:this.y-this.radius}),A(t,{x:this.x+this.radius,y:this.y+this.radius})}}class fs extends F{constructor(t,e,i,s){super(),this.x=t,this.y=e,this.radiusX=i,this.radiusY=s}path(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(t){A(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),A(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class ps extends F{constructor(t,e,i,s,a,r){super(),this.cx=t,this.cy=e,this.radius=i,this.startAngle=s,this.endAngle=a,this.anticlockwise=r}path(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(t){let e=_i(this.cx,this.cy,this.startAngle*Dt,this.endAngle*Dt,this.radius);A(t,{x:e.left,y:e.top}),A(t,{x:e.right,y:e.bottom})}}class gs extends F{constructor(t,e,i,s,a){super(),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.radius=a}path(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(t){}}class _s extends F{constructor(t,e){super(),this.x=t,this.y=e}path(t){t.lineTo(this.x,this.y)}addBounds(t){A(t,{x:this.x,y:this.y})}}class ms extends F{constructor(t,e){super(),this.x=t,this.y=e}path(t){t.moveTo(this.x,this.y)}addBounds(t){A(t,{x:this.x,y:this.y})}}class ys extends F{path(t){t.closePath()}}class xs extends F{constructor(t,e,i,s,a,r){super(),this.cpX=t,this.cpY=e,this.cpX2=i,this.cpY2=s,this.toX=a,this.toY=r}path(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(t){A(t,{x:this.cpX,y:this.cpY}),A(t,{x:this.cpX2,y:this.cpY2}),A(t,{x:this.toX,y:this.toY})}}class vs extends F{constructor(t,e,i,s){super(),this.cpX=t,this.cpY=e,this.toX=i,this.toY=s}path(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(t){A(t,{x:this.cpX,y:this.cpY}),A(t,{x:this.toX,y:this.toY})}}class bs extends F{constructor(t,e,i,s,a){super(),this.color=t,this.blur=e,this.offsetX=i,this.offsetY=s,this.opacity=a}colorize(t,e){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}colorizeGhost(t,e){}}class ws extends F{constructor(t,e,i,s,a){super(),this.image=t,this.width=e,this.height=i,this.x=s,this.y=a}path(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(t){A(t,{x:this.x,y:this.y}),A(t,{x:this.width,y:this.height})}}class ks extends te{constructor(){super(...arguments),this._operations=[],this.blendMode=fi.NORMAL,this._hasShadows=!1}clear(){super.clear(),this._operations.length=0}_pushOp(t){this._operations.push(t)}beginFill(t,e=1){this._fillAlpha=e,t?t instanceof W?this._pushOp(new re(t.toCSS(e))):(this.isMeasured=!0,this._pushOp(new re(t))):this._pushOp(new re("rgba(0, 0, 0, "+e+")"))}endFill(){this._pushOp(new os(this._hasShadows))}endStroke(){this._pushOp(new hs)}beginPath(){this._pushOp(new ns)}lineStyle(t=0,e,i=1,s,a){this._strokeAlpha=i,e?e instanceof W?this._pushOp(new ne(t,e.toCSS(i),s,a)):this._pushOp(new ne(t,e,s,a)):this._pushOp(new ne(t,"rgba(0, 0, 0, "+i+")",s,a))}setLineDash(t){this._pushOp(new ls(t||[]))}setLineDashOffset(t=0){this._pushOp(new cs(t))}drawRect(t,e,i,s){this._pushOp(new ds(t,e,i,s))}drawCircle(t,e,i){this._pushOp(new us(t,e,i))}drawEllipse(t,e,i,s){this._pushOp(new fs(t,e,i,s))}arc(t,e,i,s,a,r=!1){this._pushOp(new ps(t,e,i,s,a,r))}arcTo(t,e,i,s,a){this._pushOp(new gs(t,e,i,s,a))}lineTo(t,e){this._pushOp(new _s(t,e))}moveTo(t,e){this._pushOp(new ms(t,e))}bezierCurveTo(t,e,i,s,a,r){this._pushOp(new xs(t,e,i,s,a,r))}quadraticCurveTo(t,e,i,s){this._pushOp(new vs(t,e,i,s))}closePath(){this._pushOp(new ys)}shadow(t,e=0,i=0,s=0,a){this._hasShadows=!0,this._pushOp(new bs(a?t.toCSS(a):t.toCSS(this._fillAlpha||this._strokeAlpha),e,i,s))}image(t,e,i,s,a){this._pushOp(new ws(t,e,i,s,a))}svgPath(t){let e=0,i=0,s=null,a=null,r=null,n=null;const o=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,d=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,g=this._operations.length;try{let l;for(;(l=o.exec(t))!==null;){const c=l[1],h=l[2],p=[];for(;(l=d.exec(h))!==null;)p.push(l[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(s=null,a=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(r=null,n=null),c){case"M":X(c,p.length,2),e=+p[0],i=+p[1],this.moveTo(e,i);for(let u=2;u<p.length;u+=2)e=+p[u],i=+p[u+1],this.lineTo(e,i);break;case"m":X(c,p.length,2),e+=+p[0],i+=+p[1],this.moveTo(e,i);for(let u=2;u<p.length;u+=2)e+=+p[u],i+=+p[u+1],this.lineTo(e,i);break;case"L":X(c,p.length,2);for(let u=0;u<p.length;u+=2)e=+p[u],i=+p[u+1],this.lineTo(e,i);break;case"l":X(c,p.length,2);for(let u=0;u<p.length;u+=2)e+=+p[u],i+=+p[u+1],this.lineTo(e,i);break;case"H":St(c,p.length,1);for(let u=0;u<p.length;++u)e=+p[u],this.lineTo(e,i);break;case"h":St(c,p.length,1);for(let u=0;u<p.length;++u)e+=+p[u],this.lineTo(e,i);break;case"V":St(c,p.length,1);for(let u=0;u<p.length;++u)i=+p[u],this.lineTo(e,i);break;case"v":St(c,p.length,1);for(let u=0;u<p.length;++u)i+=+p[u],this.lineTo(e,i);break;case"C":X(c,p.length,6);for(let u=0;u<p.length;u+=6){const f=+p[u],v=+p[u+1];s=+p[u+2],a=+p[u+3],e=+p[u+4],i=+p[u+5],this.bezierCurveTo(f,v,s,a,e,i)}break;case"c":X(c,p.length,6);for(let u=0;u<p.length;u+=6){const f=+p[u]+e,v=+p[u+1]+i;s=+p[u+2]+e,a=+p[u+3]+i,e+=+p[u+4],i+=+p[u+5],this.bezierCurveTo(f,v,s,a,e,i)}break;case"S":X(c,p.length,4),(s===null||a===null)&&(s=e,a=i);for(let u=0;u<p.length;u+=4){const f=2*e-s,v=2*i-a;s=+p[u],a=+p[u+1],e=+p[u+2],i=+p[u+3],this.bezierCurveTo(f,v,s,a,e,i)}break;case"s":X(c,p.length,4),(s===null||a===null)&&(s=e,a=i);for(let u=0;u<p.length;u+=4){const f=2*e-s,v=2*i-a;s=+p[u]+e,a=+p[u+1]+i,e+=+p[u+2],i+=+p[u+3],this.bezierCurveTo(f,v,s,a,e,i)}break;case"Q":X(c,p.length,4);for(let u=0;u<p.length;u+=4)r=+p[u],n=+p[u+1],e=+p[u+2],i=+p[u+3],this.quadraticCurveTo(r,n,e,i);break;case"q":X(c,p.length,4);for(let u=0;u<p.length;u+=4)r=+p[u]+e,n=+p[u+1]+i,e+=+p[u+2],i+=+p[u+3],this.quadraticCurveTo(r,n,e,i);break;case"T":X(c,p.length,2),(r===null||n===null)&&(r=e,n=i);for(let u=0;u<p.length;u+=2)r=2*e-r,n=2*i-n,e=+p[u],i=+p[u+1],this.quadraticCurveTo(r,n,e,i);break;case"t":X(c,p.length,2),(r===null||n===null)&&(r=e,n=i);for(let u=0;u<p.length;u+=2)r=2*e-r,n=2*i-n,e+=+p[u],i+=+p[u+1],this.quadraticCurveTo(r,n,e,i);break;case"A":case"a":const m=c==="a";es(p),X(c,p.length,7);for(let u=0;u<p.length;u+=7){let f=+p[u+5],v=+p[u+6];m&&(f+=e,v+=i);const x=Qi({px:e,py:i,rx:+p[u],ry:+p[u+1],xAxisRotation:+p[u+2],largeArcFlag:Xe(+p[u+3]),sweepFlag:Xe(+p[u+4]),cx:f,cy:v});w(x,y=>{this.bezierCurveTo(y.x1,y.y1,y.x2,y.y2,y.x,y.y),e=y.x,i=y.y})}break;case"Z":case"z":ts(c,p.length,0),this.closePath();break}}}catch(l){this._operations.length=g,console.warn(`Error when parsing svgPath:
  `+l.message+`
`+t)}}_runPath(t){t.beginPath(),w(this._operations,e=>{e.path(t)})}_render(t,e=0){super._render(t);const i=t.layer.dirty,s=this._isInteractive(t),a=this._ghostOnly(e),r=this._drawGhost(t,e);if(i||s||a){const n=t.layer.context,o=this._renderer._ghostLayer.context;i&&!a&&(n.globalCompositeOperation=this.blendMode,n.beginPath());let d;r&&(o.beginPath(),d=this._getColorId()),w(this._operations,g=>{i&&!a&&(g.path(n),g.colorize(n,void 0)),r&&(g.pathGhost(o),g.colorizeGhost(o,d))})}}renderDetached(t){if(this.visible){this._setMatrix(),t.save();const e=this.mask;e&&(e._setMatrix(),e._transform(t,1),e._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),w(this._operations,i=>{i.path(t),i.colorize(t,void 0)}),t.restore()}}_addBounds(t){this.visible&&this.isMeasured&&w(this._operations,e=>{e.addBounds(t)})}}class si extends te{constructor(t,e,i){super(t),this.resolution=1,this.textVisible=!0,this._originalScale=1,this.text=e,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}invalidateVisibility(){this.textVisible=!0,this.scale=this._originalScale||1}_shared(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}_prerender(t,e=!1,i=!1){super._render(t);const s=t.layer.context,a=this._renderer._ghostLayer.context,r=this.style;let n=this._getFontStyle(void 0,i);s.font=n,this._isInteractive(t)&&!e&&(a.font=n),r.fill&&(r.fill instanceof W?s.fillStyle=r.fill.toCSS(r.fillOpacity!=null?r.fillOpacity:1):s.fillStyle=r.fill),r.shadowColor&&(t.layer.context.shadowColor=r.shadowColor.toCSS(r.shadowOpacity||1)),r.shadowBlur&&(t.layer.context.shadowBlur=r.shadowBlur),r.shadowOffsetX&&(t.layer.context.shadowOffsetX=r.shadowOffsetX),r.shadowOffsetY&&(t.layer.context.shadowOffsetY=r.shadowOffsetY),this._shared(s),this._isInteractive(t)&&!e&&(a.fillStyle=this._getColorId(),this._shared(a))}_getFontStyle(t,e=!1){const i=this.style;let s=[];return t&&t.fontVariant?s.push(t.fontVariant):i.fontVariant&&s.push(i.fontVariant),e||(t&&t.fontWeight?s.push(t.fontWeight):i.fontWeight&&s.push(i.fontWeight)),t&&t.fontStyle?s.push(t.fontStyle):i.fontStyle&&s.push(i.fontStyle),t&&t.fontSize?(E(t.fontSize)&&(t.fontSize=t.fontSize+"px"),s.push(t.fontSize)):i.fontSize&&(E(i.fontSize)&&(i.fontSize=i.fontSize+"px"),s.push(i.fontSize)),t&&t.fontFamily?s.push(t.fontFamily):i.fontFamily?s.push(i.fontFamily):s.length&&s.push("Arial"),s.join(" ")}_render(t,e=0){if(this._textInfo||this._measure(t),this.textVisible){const i=this._isInteractive(t),s=t.layer.context,a=t.layer.dirty,r=this._renderer._ghostLayer.context,n=this._ghostOnly(e),o=this._drawGhost(t,e);s.save(),r.save(),this._prerender(t),w(this._textInfo,(d,g)=>{w(d.textChunks,(l,c)=>{if(l.style&&(s.save(),r.save(),n||(s.font=l.style),this._isInteractive(t)&&(r.font=l.style)),l.fill&&(s.save(),n||(s.fillStyle=l.fill.toCSS())),a&&!n&&s.fillText(l.text,l.offsetX,d.offsetY+l.offsetY),l.textDecoration=="underline"||l.textDecoration=="line-through"){let h=1,p=1,m=l.height;const u=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(u)>-1){const x=this._measureText(l.text,s);l.width=x.actualBoundingBoxLeft+x.actualBoundingBoxRight}let f=l.offsetX;switch(this.style.textAlign){case"right":case"end":f-=l.width;break;case"center":f-=l.width/2;break}if(l.style)switch(et.getTextStyle(l.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":h=2;break}m&&(p=m/20);let v;l.textDecoration=="line-through"?v=h+d.offsetY+l.offsetY-l.height/2:v=h+p*1.5+d.offsetY+l.offsetY,n||(s.save(),s.beginPath(),l.fill?s.strokeStyle=l.fill.toCSS():this.style.fill&&this.style.fill instanceof W&&(s.strokeStyle=this.style.fill.toCSS()),s.lineWidth=h*p,s.moveTo(f,v),s.lineTo(f+l.width,v),s.stroke(),s.restore())}i&&this.interactive&&o&&r.fillText(l.text,l.offsetX,d.offsetY+l.offsetY),l.fill&&s.restore(),l.style&&(s.restore(),r.restore())})}),s.restore(),r.restore()}}_addBounds(t){if(this.visible&&this.isMeasured){const e=this._measure({inactive:this.inactive,layer:this.getLayer()});A(t,{x:e.left,y:e.top}),A(t,{x:e.right,y:e.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(t){const e=t.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl";this._textInfo=[];const a=this.style.oversizedBehavior,r=this.style.maxWidth,n=E(r)&&a=="truncate",o=E(r)&&(a=="wrap"||a=="wrap-no-break");e.save(),i.save(),this._prerender(t,!0,this._ignoreFontWeight());const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",g=this.text.toString().replace(/\r/g,"").split(/\n/);let l=!0,c=0,h=0,p=0,m;w(g,(f,v)=>{let x;for(f==""?x=[{type:"value",text:""}]:x=et.chunk(f,!1,this.style.ignoreFormatting);x.length>0;){let y={offsetY:p,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const b=this._measureText(d,e),T=b.actualBoundingBoxAscent+b.actualBoundingBoxDescent;y.height=T,y.ascent=b.actualBoundingBoxAscent;let k,M=this.style.textDecoration,L,S,C=!1,O=!0,R=[],ht;Ae(x,(Y,ee)=>{if(Y.type=="format")if(Y.text=="[/]")l||(e.restore(),i.restore(),l=!0),L=void 0,m=void 0,S=void 0,M=this.style.textDecoration,ht=void 0,k=Y.text;else{l||(e.restore(),i.restore());let B=et.getTextStyle(Y.text);const V=this._getFontStyle(B);e.save(),i.save(),e.font=V,m=V,k=Y.text,B.textDecoration&&(M=B.textDecoration),B.fill&&(L=B.fill),B.width&&(S=Z(B.width)),B.verticalAlign&&(ht=B.verticalAlign),l=!1;const K=this._measureText(d,e),Q=K.actualBoundingBoxAscent+K.actualBoundingBoxDescent;Q>y.height&&(y.height=Q),K.actualBoundingBoxAscent>y.ascent&&(y.ascent=K.actualBoundingBoxAscent)}else if(Y.type=="value"&&!C){const B=this._measureText(Y.text,e);let V=B.actualBoundingBoxLeft+B.actualBoundingBoxRight;if(n){this.truncated=void 0;let J=O||this.style.breakWords||!1;const at=this.style.ellipsis||"",Le=this._measureText(at,e),ni=Le.actualBoundingBoxLeft+Le.actualBoundingBoxRight;if(y.width+V>r){const oi=r-y.width-ni;Y.text=this._truncateText(e,Y.text,oi,J),Y.text+=at,C=!0,this.truncated=!0}}else if(o&&y.width+V>r){const J=r-y.width,at=this._truncateText(e,Y.text,J,!1,O&&this.style.oversizedBehavior!="wrap-no-break");if(at=="")return this.textVisible=!0,!1;R=x.slice(ee+1),ie(at)!=ie(Y.text)&&(R.unshift({type:"value",text:Y.text.substr(at.length)}),k&&R.unshift({type:"format",text:k})),Y.text=ie(at),x=[],C=!0}let K=1,Q=1;if(m&&S&&S>V){const J=V/S;switch(this.style.textAlign){case"right":case"end":K=J;break;case"center":K=J,Q=J;break;default:Q=J}V=S}const Tt=B.actualBoundingBoxAscent+B.actualBoundingBoxDescent;Tt>y.height&&(y.height=Tt),B.actualBoundingBoxAscent>y.ascent&&(y.ascent=B.actualBoundingBoxAscent),y.width+=V,y.left+=B.actualBoundingBoxLeft/K,y.right+=B.actualBoundingBoxRight/Q,y.textChunks.push({style:m,fill:L,text:Y.text,width:V,height:Tt,left:B.actualBoundingBoxLeft,right:B.actualBoundingBoxRight,ascent:B.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:M,verticalAlign:ht}),O=!1}return!0}),this.style.lineHeight instanceof st?(y.height*=this.style.lineHeight.value,y.ascent*=this.style.lineHeight.value):(y.height*=this.style.lineHeight||1.2,y.ascent*=this.style.lineHeight||1.2),c<y.left&&(c=y.left),h<y.right&&(h=y.right),this._textInfo.push(y),p+=y.height,x=R||[]}}),l||(e.restore(),i.restore()),w(this._textInfo,(f,v)=>{let x=0;w(f.textChunks,y=>{if(y.offsetX=x+y.left-f.left,y.offsetY+=f.height-f.height*(this.style.baselineRatio||.19),x+=y.width*(s?-1:1),y.verticalAlign)switch(y.verticalAlign){case"super":y.offsetY-=f.height/2-y.height/2;break;case"sub":y.offsetY+=y.height/2;break}})});const u={left:s?-h:-c,top:0,right:s?c:h,bottom:p};if(a!=="none"){const f=this._fitRatio(u);if(f<1)if(a=="fit")E(this.style.minScale)&&f<this.style.minScale?(this.textVisible=!1,u.left=0,u.top=0,u.right=0,u.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=f,this.textVisible=!0);else if(a=="hide")this.textVisible=!1,u.left=0,u.top=0,u.right=0,u.bottom=0;else{switch(this.style.textAlign){case"right":case"end":u.left=s?r:-r,u.right=0;break;case"center":u.left=-r/2,u.right=r/2;break;default:u.left=0,u.right=s?-r:r}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return e.restore(),i.restore(),u}_fitRatio(t){const e=this.style.maxWidth,i=this.style.maxHeight;if(!E(e)&&!E(i))return 1;const s=t.right-t.left,a=t.bottom-t.top;return Math.min(e/s||1,i/a||1)}_truncateText(t,e,i,s=!1,a=!0){let r;do{if(s)e=e.slice(0,-1);else{let o=e.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if((o==""||o===e)&&a)s=!0;else{if(o=="")return e;e=o}}const n=this._measureText(e,t);r=n.actualBoundingBoxLeft+n.actualBoundingBoxRight}while(r>i&&e!="");return e}_measureText(t,e){let i=e.measureText(t),s={};if(i.actualBoundingBoxAscent==null){const r=document.createElement("div");r.innerText=t,r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000000px;",r.style.fontFamily=this.style.fontFamily||"",r.style.fontSize=this.style.fontSize+"",document.body.appendChild(r);const n=r.getBoundingClientRect();document.body.removeChild(r);const o=n.height,d=i.width;s={actualBoundingBoxAscent:o,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:d,fontBoundingBoxAscent:o,fontBoundingBoxDescent:0,width:d}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const a=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=a,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=a/2,s.actualBoundingBoxRight=a/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=a}return s}}class Ts{constructor(){this.lineHeight=Kt(120),this.baselineRatio=.19,this.oversizedBehavior="none",this.breakWords=!1,this.ellipsis="…",this.ignoreFormatting=!1}}class Cs extends si{constructor(){super(...arguments),this.textType="circular",this.inside=!1,this.orientation="auto",this.kerning=0,this._textReversed=!1}_render(t,e=0){this.textType==="circular"?this._renderCircular(t,e):super._render(t,e)}_renderCircular(t,e=0){if(this.textVisible){this._prerender(t);const i=this._isInteractive(t),s=t.layer.context,a=t.layer.dirty,r=this._renderer._ghostLayer.context;s.save(),i&&r.save(),this._textInfo||this._measure(t);let n=this.radius||0,o=this.startAngle||0,d=0,g=this.orientation,l=g=="auto"?"auto":g=="inward";const c=this.inside,h=this.style.textAlign||"left",p=this.kerning||0;let m=h=="left"?1:-1;const u=!this._textReversed,f=this._ghostOnly(e),v=this._drawGhost(t,e);if(l=="auto"){let x=0,y=0;w(this._textInfo,(b,T)=>{const k=o+b.width/(n-b.height)/2*-m;k>x&&(x=k)}),h=="left"?y=(x+d/2)*Dt:h=="right"?y=(x-d/2)*Dt:y=o*Dt,y=pi(y),l=y>=270||y<=90}l==!0&&u&&(this._textInfo.reverse(),this._textReversed=!0),w(this._textInfo,(x,y)=>{const b=x.height;c||(n+=b),(m==-1&&l||m==1&&!l)&&u&&x.textChunks.reverse();let T=o;d=0,h=="center"&&(T+=x.width/(n-b)/2*-m,d=T-o),T+=Math.PI*(l?0:1),s.save(),i&&r.save(),f||s.rotate(T),i&&r.rotate(T);let k=0;w(x.textChunks,(M,L)=>{const S=M.text,C=M.width;k=C/2/(n-b)*m,f||s.rotate(k),i&&r.rotate(k),M.style&&(s.save(),r.save(),f||(s.font=M.style),i&&(r.font=M.style)),M.fill&&(s.save(),f||(s.fillStyle=M.fill.toCSS())),f||(s.textBaseline="middle",s.textAlign="center"),i&&(r.textBaseline="middle",r.textAlign="center"),a&&!f&&s.fillText(S,0,(l?1:-1)*(0-n+b/2)),i&&v&&r.fillText(S,0,(l?1:-1)*(0-n+b/2)),M.fill&&s.restore(),M.style&&(s.restore(),r.restore()),k=(C/2+p)/(n-b)*m,f||s.rotate(k),i&&r.rotate(k)}),s.restore(),i&&r.restore(),c&&(n-=b)}),s.restore(),i&&r.restore()}}_measure(t){return this.textType==="circular"?this._measureCircular(t):super._measure(t)}_measureCircular(t){const e=t.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl",a=this.style.oversizedBehavior,r=this.style.maxWidth,n=E(r)&&a=="truncate",o=this.style.ellipsis||"";let d;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,e.save(),i.save(),this._prerender(t,!0);const g=this.text.toString().replace(/\r/g,"").split(/\n/);let l=!0,c=0,h=0;return w(g,(p,m)=>{let u=et.chunk(p,!1,this.style.ignoreFormatting),f={offsetY:h,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},v,x,y;w(u,(b,T)=>{if(b.type=="format"){if(b.text=="[/]")l||(e.restore(),i.restore(),l=!0),x=void 0,v=void 0,y=void 0;else{let k=et.getTextStyle(b.text);const M=this._getFontStyle(k);e.save(),i.save(),e.font=M,v=M,k.fill&&(x=k.fill),k.width&&(y=Z(k.width)),l=!1}n&&(d=this._measureText(o,e))}else if(b.type=="value"){let k=b.text.match(/./ug)||[];s&&(k=gi(b.text),k.reverse());for(let M=0;M<k.length;M++){const L=k[M],S=this._measureText(L,e);let C=S.width;v&&y&&y>C&&(C=y);const O=S.actualBoundingBoxAscent+S.actualBoundingBoxDescent;if(O>f.height&&(f.height=O),S.actualBoundingBoxAscent>f.ascent&&(f.ascent=S.actualBoundingBoxAscent),c+=C,n){d||(d=this._measureText(o,e));const R=d.actualBoundingBoxLeft+d.actualBoundingBoxRight;if(c+R>r){f.textChunks.length==1?this.textVisible=!1:(f.width+=R,f.left+=d.actualBoundingBoxLeft,f.right+=d.actualBoundingBoxRight,f.textChunks.push({style:v,fill:x,text:o,width:R,height:O+d.actualBoundingBoxDescent,left:d.actualBoundingBoxLeft,right:d.actualBoundingBoxRight,ascent:d.actualBoundingBoxAscent,offsetX:0,offsetY:O,textDecoration:void 0}));break}}f.width+=C,f.left+=S.actualBoundingBoxLeft,f.right+=S.actualBoundingBoxRight,f.textChunks.push({style:v,fill:x,text:L,width:C,height:O+S.actualBoundingBoxDescent,left:S.actualBoundingBoxLeft,right:S.actualBoundingBoxRight,ascent:S.actualBoundingBoxAscent,offsetX:0,offsetY:O,textDecoration:void 0})}}}),this.style.lineHeight instanceof st?f.height*=this.style.lineHeight.value:f.height*=this.style.lineHeight||1.2,this._textInfo.push(f),h+=f.height}),l||(e.restore(),i.restore()),a=="hide"&&c>r&&(this.textVisible=!1),w(this._textInfo,p=>{w(p.textChunks,m=>{m.offsetY+=Math.round((p.height-m.height+(p.ascent-m.ascent))/2)})}),e.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class Ss extends te{constructor(t,e){super(t),this.image=e}_dispose(){super._dispose(),this._imageMask&&Mt(this._imageMask)}getLocalBounds(){if(!this._localBounds){let t=0,e=0;this.width&&(t=this.width),this.height&&(e=this.height),this._localBounds={left:0,top:0,right:t,bottom:e},this._addBounds(this._localBounds)}return this._localBounds}_render(t,e=0){if(super._render(t),this.image){if(this.tainted===void 0&&(this.tainted=Ve(this.image),t.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;const i=this._ghostOnly(e),s=this._drawGhost(t,e);if(t.layer.dirty&&!i){this.shadowColor&&(t.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.layer.context.shadowOffsetY=this.shadowOffsetY);const a=this.width||this.image.naturalWidth,r=this.height||this.image.naturalHeight;t.layer.context.drawImage(this.image,0,0,a,r)}if(this.interactive&&this._isInteractive(t)&&s){const a=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(a,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(t){if(this._imageMask===void 0){const e=this.width||t.naturalWidth,i=this.height||t.naturalHeight,s=document.createElement("canvas");s.width=e,s.height=i;const a=s.getContext("2d");a.imageSmoothingEnabled=!1,a.fillStyle=this._getColorId(),a.fillRect(0,0,e,i),Ve(t)||(a.globalCompositeOperation="destination-in",a.drawImage(t,0,0,e,i)),this._imageMask=s}return this._imageMask}}class Ms{constructor(t,e,i,s){this.event=t,this.originalPoint=e,this.point=i,this.bbox=s,this.simulated=!1,this.native=!0,vt("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null}}class Ds extends zi{constructor(t){if(super(),this.view=document.createElement("div"),this._layerDom=document.createElement("div"),this.layers=[],this._dirtyLayers=[],this.defaultLayer=this.getLayer(0),this._ghostLayer=new Es,this._deferredGhostLayers=[],this._patternCanvas=document.createElement("canvas"),this._patternContext=this._patternCanvas.getContext("2d"),this._realWidth=0,this._realHeight=0,this._calculatedWidth=0,this._calculatedHeight=0,this.interactionsEnabled=!0,this._listeners={},this._events={},this._colorId=0,this._colorMap={},this._forceInteractive=0,this._omitTainted=!1,this._hovering=new Set,this._dragging=[],this._mousedown=[],this.tapToActivate=!1,this.tapToActivateTimeout=3e3,this._touchActive=!1,t==null?this.resolution=window.devicePixelRatio:this.resolution=t,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new rt(()=>{j(this._events,(e,i)=>{i.disposer.dispose()}),w(this.layers,e=>{Mt(e.view),e.exportableView&&Mt(e.exportableView)}),Mt(this._ghostLayer.view),Mt(this._patternCanvas)})),this._disposers.push(Ze(()=>{t==null&&(this.resolution=window.devicePixelRatio)})),vt("touchevents")){const e=i=>{this._dragging.length!==0&&Ae(this._dragging,s=>s.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(P(window,"touchstart",e,{passive:!1})),this._disposers.push(P(this.view,"touchstart",e,{passive:!1})),this._disposers.push(P(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(P(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(P(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}vt("wheelevents")&&this._disposers.push(P(this.view,"wheel",e=>{let i=!1;this._hovering.forEach(s=>{if(s.wheelable)return i=!0,!1}),i&&e.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(t,e,i,s){return this.defaultLayer.context.createLinearGradient(t,e,i,s)}createRadialGradient(t,e,i,s,a,r){return this.defaultLayer.context.createRadialGradient(t,e,i,s,a,r)}createPattern(t,e,i,s,a){return this._patternCanvas.width=s,this._patternCanvas.height=a,this._patternContext.clearRect(0,0,s,a),e.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new rs(this)}makeGraphics(){return new ks(this)}makeText(t,e){return new si(this,t,e)}makeTextStyle(){return new Ts}makeRadialText(t,e){return new Cs(this,t,e)}makePicture(t){return new Ss(this,t)}resizeLayer(t){t.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(t,e,i,s){this._realWidth=t,this._realHeight=e,this._calculatedWidth=i,this._calculatedHeight=s,w(this.layers,a=>{a&&(a.dirty=!0,this.resizeLayer(a))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=s+"px"}createDetachedLayer(t=!1){const e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:t}),s=new Bs(e,i);return e.style.position="absolute",e.style.top="0px",e.style.left="0px",s}getLayerByOrder(t){const e=this.layers,i=e.length;for(let s=0;s<i;s++){const a=e[s];if(a.order==t)return a}}getLayer(t,e=!0){let i=this.getLayerByOrder(t);if(i)return i;const s=this.createDetachedLayer(t==99);s.order=t,s.visible=e,s.view.className="am5-layer-"+t,s.visible&&this.resizeLayer(s);const a=this.layers;a.push(s),a.sort((d,g)=>d.order>g.order?1:d.order<g.order?-1:0);const r=a.length,n=Fi(a,s);let o;for(let d=n+1;d<r;d++)if(a[d].visible){o=a[d];break}return s.visible&&(o===void 0?this._layerDom.appendChild(s.view):this._layerDom.insertBefore(s.view,o.view)),s}render(t){this._dirtyLayers.length=0,this._deferredGhostLayers=[],w(this.layers,i=>{i&&i.dirty&&i.visible&&(this._dirtyLayers.push(i),i.clear())}),this._ghostLayer.clear(),t.render({inactive:null,layer:this.defaultLayer});const e=this._deferredGhostLayers;if(e.length&&(e.sort((i,s)=>i-s),w(e,i=>{t.render({inactive:null,layer:this.defaultLayer},i)})),this._ghostLayer.context.restore(),w(this.layers,i=>{if(i){const s=i.context;s.beginPath(),s.moveTo(0,0),s.stroke()}}),w(this._dirtyLayers,i=>{i.context.restore(),i.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:i,target:s,native:a}=this._lastPointerMoveEvent;w(i,r=>{this._dispatchGlobalMousemove(r,s,a)})}}paintId(t){const e=is(++this._colorId),i=W.fromHex(e).toCSS();return this._colorMap[i]=t,i}_removeObject(t){t._colorId!==void 0&&delete this._colorMap[t._colorId]}_adjustBoundingBox(t){const e=this._ghostLayer.margin;return new DOMRect(-e.left,-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}getEvent(t,e=!0){const i=this.view.getBoundingClientRect(),s=t.clientX||0,a=t.clientY||0,r=this._calculatedWidth/this._realWidth,n=this._calculatedHeight/this._realHeight,o={x:s-i.left,y:a-i.top},d={x:(s-(e?i.left:0))*r,y:(a-(e?i.top:0))*n};return new Ms(t,o,d,this._adjustBoundingBox(i))}_getHitTarget(t,e,i){if(e.width===0||e.height===0||t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom||!i||!this._layerDom.contains(i))return;const s=this._ghostLayer.getImageData(t,e);if(s.data[0]===0&&s.data[1]===0&&s.data[2]===0)return!1;const a=W.fromRGB(s.data[0],s.data[1],s.data[2]).toCSS();return this._colorMap[a]}getObjectAtPoint(t){const e=this._ghostLayer.getImageArray(t);if(e[0]===0&&e[1]===0&&e[2]===0)return;const i=W.fromRGB(e[0],e[1],e[2]).toCSS();return this._colorMap[i]}_withEvents(t,e){const i=this._events[t];if(i!==void 0){i.dispatching=!0;try{e(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,jt(i.callbacks,s=>!s.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[t]))}}}_dispatchEventAll(t,e){this.interactionsEnabled&&this._withEvents(t,i=>{w(i.callbacks,s=>{s.disposed||s.callback.call(s.context,e)})})}_dispatchEvent(t,e,i){if(!this.interactionsEnabled)return!1;let s=!1;return this._withEvents(t,a=>{w(a.callbacks,r=>{!r.disposed&&r.object===e&&(r.callback.call(r.context,i),s=!0)})}),s}_dispatchMousedown(t,e){const i=t.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;const s=this.getEvent(t),a=this._getHitTarget(s.originalPoint,s.bbox,e);if(a){const r=s.id;let n=!1;Yt(a,o=>{const d={id:r,value:o};return this._mousedown.push(d),!n&&this._dispatchEvent("pointerdown",o,s)&&(n=!0,this._dragging.some(l=>l.value===o&&l.id===r)||this._dragging.push(d)),!0})}}_dispatchGlobalMousemove(t,e,i){const s=this.getEvent(t),a=this._getHitTarget(s.originalPoint,s.bbox,e);s.native=i,a?(this._hovering.forEach(r=>{r.contains(a)||(this._hovering.delete(r),r.cursorOverStyle&&Rt(document.body,"cursor",r._replacedCursorStyle),this._dispatchEvent("pointerout",r,s))}),s.native&&Yt(a,r=>(this._hovering.has(r)||(this._hovering.add(r),r.cursorOverStyle&&(r._replacedCursorStyle=mi(document.body,"cursor"),Rt(document.body,"cursor",r.cursorOverStyle)),this._dispatchEvent("pointerover",r,s)),!0))):(this._hovering.forEach(r=>{r.cursorOverStyle&&Rt(document.body,"cursor",r._replacedCursorStyle),this._dispatchEvent("pointerout",r,s)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",s)}removeHovering(t){this._hovering.delete(t),t.cursorOverStyle&&Rt(document.body,"cursor",t._replacedCursorStyle)}_dispatchGlobalMouseup(t,e){const i=this.getEvent(t);i.native=e,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(t){if(this._dragging.length!==0){const e=this.getEvent(t),i=e.id;this._dragging.forEach(s=>{s.id===i&&this._dispatchEvent("pointermove",s.value,e)})}}_dispatchDragEnd(t,e){const i=t.button;let s;if(i==0||i===void 0)s="click";else if(i==2)s="rightclick";else if(i==1)s="middleclick";else return;const a=this.getEvent(t),r=a.id;if(this._mousedown.length!==0){const n=this._getHitTarget(a.originalPoint,a.bbox,e);n&&this._mousedown.forEach(o=>{o.id===r&&o.value.contains(n)&&this._dispatchEvent(s,o.value,a)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(n=>{n.id===r&&this._dispatchEvent("pointerup",n.value,a)}),this._dragging.length=0)}_dispatchDoubleClick(t,e){const i=this.getEvent(t),s=this._getHitTarget(i.originalPoint,i.bbox,e);s&&Yt(s,a=>!this._dispatchEvent("dblclick",a,i))}_dispatchWheel(t,e){const i=this.getEvent(t),s=this._getHitTarget(i.originalPoint,i.bbox,e);s&&Yt(s,a=>!this._dispatchEvent("wheel",a,i))}_makeSharedEvent(t,e){if(this._listeners[t]===void 0){const i=e();this._listeners[t]=new Qe(()=>{delete this._listeners[t],i.dispose()})}return this._listeners[t].increment()}_onPointerEvent(t,e){let i=!1,s=null;function a(){s=null,i=!1}return new Nt([new rt(()=>{s!==null&&clearTimeout(s),a()}),P(this.view,oe(t),r=>{i=!0,s!==null&&clearTimeout(s),s=window.setTimeout(a,0)}),ss(window,t,(r,n)=>{s!==null&&(clearTimeout(s),s=null),e(r,n,i),i=!1})])}_initEvent(t){switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const e=(i,s,a)=>{this._lastPointerMoveEvent={events:i,target:s,native:a},w(i,r=>{this._dispatchGlobalMousemove(r,s,a)})};return new Nt([this._onPointerEvent("pointerdown",e),this._onPointerEvent("pointermove",e)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const e=this._onPointerEvent("pointerup",(s,a,r)=>{w(s,n=>{this._dispatchGlobalMouseup(n,r)}),this._lastPointerMoveEvent={events:s,target:a,native:r}}),i=this._onPointerEvent("pointercancel",(s,a,r)=>{w(s,n=>{this._dispatchGlobalMouseup(n,r)}),this._lastPointerMoveEvent={events:s,target:a,native:r}});return new rt(()=>{e.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const e=this._onPointerEvent("pointerdown",(r,n)=>{w(r,o=>{this._dispatchMousedown(o,n)})}),i=this._onPointerEvent("pointermove",r=>{w(r,n=>{this._dispatchDragMove(n)})}),s=this._onPointerEvent("pointerup",(r,n)=>{w(r,o=>{this._dispatchDragEnd(o,n)})}),a=this._onPointerEvent("pointercancel",(r,n)=>{w(r,o=>{this._dispatchDragEnd(o,n)})});return new rt(()=>{e.dispose(),i.dispose(),s.dispose(),a.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(e,i)=>{w(e,s=>{this._dispatchDoubleClick(s,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>P(this.view,oe("wheel"),e=>{this._dispatchWheel(e,Ke(e))},{passive:!1}))}}_addEvent(t,e,i,s){let a=this._events[e];a===void 0&&(a=this._events[e]={disposer:this._initEvent(e),callbacks:[],dispatching:!1,cleanup:!1});const r={object:t,context:s,callback:i,disposed:!1};return a.callbacks.push(r),new rt(()=>{r.disposed=!0,a.dispatching?a.cleanup=!0:(Pe(a.callbacks,r),a.callbacks.length===0&&(a.disposer.dispose(),delete this._events[e]))})}getCanvas(t,e){this.render(t),e||(e={});let i=this.resolution,s=Math.floor(this._calculatedWidth*this.resolution),a=Math.floor(this._calculatedHeight*this.resolution);if(e.minWidth&&e.minWidth>s){let h=e.minWidth/s;h>i&&(i=h*this.resolution)}if(e.minHeight&&e.minHeight>a){let h=e.minHeight/a;h>i&&(i=h*this.resolution)}if(e.maxWidth&&e.maxWidth<s){let h=e.maxWidth/s;h<i&&(i=h*this.resolution)}if(e.maxHeight&&e.maxHeight>a){let h=e.maxHeight/a;h<i&&(i=h*this.resolution)}e.maintainPixelRatio&&(i/=this.resolution);const r=[];let n=!1;const o=document.createElement("canvas");i!=this.resolution&&(n=!0,s=s*i/this.resolution,a=a*i/this.resolution),o.width=s,o.height=a,o.style.position="fixed",o.style.top="-10000px",this.view.appendChild(o),r.push(o);const d=o.getContext("2d");let g=0,l=0,c=!1;return w(this.layers,h=>{if(h&&h.visible&&(h.tainted||n)){c=!0,h.exportableView=h.view,h.exportableContext=h.context,h.view=document.createElement("canvas"),h.view.style.position="fixed",h.view.style.top="-10000px",this.view.appendChild(h.view),r.push(h.view);let p=0,m=0;h.margin&&(p+=h.margin.left||0+h.margin.right||0,m+=h.margin.top||0+h.margin.bottom||0),h.view.width=s+p,h.view.height=a+m,h.context=h.view.getContext("2d"),h.dirty=!0,h.scale=i}}),c&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),w(this.layers,h=>{if(h&&h.visible){let p=0,m=0;h.margin&&(p=-(h.margin.left||0)*this.resolution,m=-(h.margin.top||0)*this.resolution),d.drawImage(h.view,p,m),h.exportableView&&(h.view=h.exportableView,h.exportableView=void 0),h.exportableContext&&(h.context=h.exportableContext,h.exportableContext=void 0),g<h.view.clientWidth&&(g=h.view.clientWidth),l<h.view.clientHeight&&(l=h.view.clientHeight),h.scale=void 0}}),o.style.width=g+"px",o.style.height=l+"px",w(r,h=>{h.style.position="",h.style.top="",this.view.removeChild(h)}),o}}class Es{constructor(){this.margin={left:0,right:0,top:0,bottom:0},this._resolution=1,this._width=0,this._height=0,this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(t,e,i,s,a){this._resolution=a,t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(t,e){return this.context.getImageData(Math.round((t.x-e.left)/e.width*this._width),Math.round((t.y-e.top)/e.height*this._height),1,1)}getImageArray(t){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const e=this.imageArray,i=Math.round(t.x*this._resolution),a=(Math.round(t.y*this._resolution)*this._width+i)*4;return[e[a],e[a+1],e[a+2],e[a+3]]}setMargin(t){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,w(t,e=>{e.margin&&(this.margin.left=Math.max(this.margin.left,e.margin.left),this.margin.right=Math.max(this.margin.right,e.margin.right),this.margin.top=Math.max(this.margin.top,e.margin.top),this.margin.bottom=Math.max(this.margin.bottom,e.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class Bs{constructor(t,e){this.tainted=!0,this.order=0,this.visible=!0,this.dirty=!0,this._width=0,this._height=0,this.view=t,this.context=e}resize(t,e,i,s,a){this.width!=null&&(t=this.width,i=this.width),this.height!=null&&(e=this.height,s=this.height),this.margin?(t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function qe(_,t){_==null?requestAnimationFrame(t):setTimeout(()=>{requestAnimationFrame(t)},1e3/_)}class ai{constructor(t,e={},i){if(this._isDirty=!1,this._isDirtyParents=!1,this._isDirtyAnimation=!1,this._dirty={},this._dirtyParents={},this._dirtyBounds={},this._dirtyPositions={},this._ticker=null,this._tickers=[],this._updateTick=!0,this.skipRenderFrame=!1,this.events=new Hi,this.animationTime=null,this._animations=[],this.language=Ki.new(this,{}),this.locale=ii,this.utc=!1,this.numberFormatter=Vi.new(this,{}),this.dateFormatter=qi.new(this,{}),this.durationFormatter=Zi.new(this,{}),this.tabindex=0,this._tabindexes=[],this._a11yD=!1,this._focusElementDirty=!1,this._skipNextGroupJump=!0,this.verticalLayout=yi.new(this,{}),this.horizontalLayout=xi.new(this,{}),this.gridLayout=vi.new(this,{}),this._paused=!1,this.autoResize=!0,this._fontHash="",this._isDisposed=!1,this._disposers=[],this._tooltips=[],this._htmlEnabledContainers=[],this.entitiesById={},!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e,e.accessible==!1&&(this._a11yD=!0),e.useSafeResolution==null&&(e.useSafeResolution=!0);let s;e.useSafeResolution&&(s=Ci()),this._renderer=new Ds(s);let a;if(t instanceof HTMLElement?a=t:a=document.getElementById(t),w(lt.rootElements,o=>{if(o.dom===a)if(lt.autoDispose)o.dispose();else throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Wt.new(this,{}),a===null)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=a;let r=document.createElement("div");r.style.position="relative",r.style.width="100%",r.style.height="100%",a.appendChild(r);const n=e.tooltipContainerBounds;n&&(this._tooltipContainerSettings=n),this._inner=r,this._updateComputedStyles(),lt.rootElements.push(this)}static new(t,e){const i=new ai(t,e,!0);return i._init(),i}moveDOM(t){let e;if(t instanceof HTMLElement?e=t:e=document.getElementById(t),e){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const t=this.dom.offsetWidth,e=this.dom.offsetHeight;t<=150||e<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const t=this.tooltipContainer.children.push(D.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Kt(100),centerY:N,tooltipY:10,tooltipText:"Created using amCharts 5",tooltipX:N,cursorOverStyle:"pointer",background:Jt.new(this,{fill:tt(4671320),fillOpacity:0,tooltipY:5})}));t.set("tooltip",this.systemTooltip),t.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),t.states.create("hover",{});const e=t.children.push(z.new(this,{stroke:tt(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6",dx:-50,strokeOpacity:0}));e.states.create("hover",{stroke:tt(3976191)});const i=t.children.push(z.new(this,{stroke:tt(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0",dx:50,strokeOpacity:0})),s=Si(Mi),a=1500;t.setTimeout(()=>{i.animate({key:"strokeOpacity",to:1,duration:a,easing:s}),i.animate({key:"dx",to:0,duration:a,easing:s}),e.animate({key:"dx",to:0,duration:a,easing:s}),e.animate({key:"strokeOpacity",to:1,duration:a,easing:s})},3e3),i.states.create("hover",{stroke:tt(4671320)}),this._logo=t,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}_init(){const t=this._settings;t.accessible!==!1&&(t.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),t.ariaLabel&&this._inner.setAttribute("aria-label",t.ariaLabel),t.role&&this._inner.setAttribute("role",t.role));const e=this._renderer,i=this._getRealSize(),s=this._getCalculatedSize(i),a=Math.floor(s.width),r=Math.floor(s.height),n=Math.floor(i.width),o=Math.floor(i.height),d=D.new(this,{visible:!0,width:a,height:r});this._rootContainer=d,this._rootContainer._defaultThemes.push(bi.new(this));const g=d.children.push(D.new(this,{visible:!0,width:N,height:N}));this.container=g,e.resize(n,o,a,r),this._inner.appendChild(e.view),this._initResizeSensor();const l=document.createElement("div");if(this._htmlElementContainer=l,l.className="am5-html-container",l.style.position="absolute",l.style.pointerEvents="none",this._tooltipContainerSettings||(l.style.overflow="hidden"),this._inner.appendChild(l),this._a11yD!==!0){const c=document.createElement("div");c.className="am5-reader-container",c.setAttribute("role","alert"),c.style.position="absolute",c.style.width="1px",c.style.height="1px",c.style.overflow="hidden",c.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=c,this._inner.appendChild(this._readerAlertElement);const h=document.createElement("div");h.className="am5-focus-container",h.style.position="absolute",h.style.pointerEvents="none",h.style.top="0px",h.style.left="0px",h.style.overflow="hidden",h.style.width=a+"px",h.style.height=r+"px",h.setAttribute("role","graphics-document"),ut(h,!1),this._focusElementContainer=h,this._inner.appendChild(this._focusElementContainer);const p=document.createElement("div");this._tooltipElementContainer=p,p.className="am5-tooltip-container",this._inner.appendChild(p),vt("keyboardevents")&&(this._disposers.push(P(window,"keydown",m=>{const u=_t(m);u=="Shift"?this._isShift=!0:u=="Tab"&&(this._isShift=m.shiftKey)})),this._disposers.push(P(window,"keyup",m=>{_t(m)=="Shift"&&(this._isShift=!1)})),this._disposers.push(P(h,"click",()=>{const m=this._focusedSprite;if(m){const u=m.get("clickAnnounceText","");u!==""&&this.readerAlert(u);const f=e.getEvent(new MouseEvent("click"));m.events.dispatch("click",{type:"click",originalEvent:f.event,point:f.point,simulated:!0,target:m})}})),this._disposers.push(P(h,"keydown",m=>{const u=this._focusedSprite;if(u){m.key=="Escape"&&(Je(),this._focusedSprite=void 0);let f=0,v=0;const x=_t(m);switch(x){case"Enter":case" ":const y=u.get("clickAnnounceText","");if(y!==""&&this.readerAlert(y),x==" "&&u.get("role")!="checkbox")return;m.preventDefault();const b=e.getEvent(new MouseEvent("mouse"));u.events.dispatch("click",{type:"click",originalEvent:b.event,point:b.point,simulated:!0,target:u});return;case"ArrowLeft":f=-6;break;case"ArrowRight":f=6;break;case"ArrowUp":v=-6;break;case"ArrowDown":v=6;break;default:return}if(f!=0||v!=0){if(m.preventDefault(),!u.isDragging()){this._keyboardDragPoint={x:0,y:0};const T=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));T.point={x:0,y:0},u.events.isEnabled("pointerdown")&&u.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:T.event,point:T.point,simulated:!0,target:u})}const y=this._keyboardDragPoint;y.x+=f,y.y+=v;const b=e.getEvent(new MouseEvent("mousemove",{clientX:y.x,clientY:y.y}),!1);u.events.isEnabled("globalpointermove")&&u.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:b.event,point:b.point,simulated:!0,target:u})}}})),this._disposers.push(P(h,"keyup",m=>{if(this._focusedSprite){const u=this._focusedSprite,f=_t(m);switch(f){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(u.isDragging()){const x=this._keyboardDragPoint,y=e.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));u.events.isEnabled("globalpointerup")&&u.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:y.event,point:y.point,simulated:!0,target:u}),this._keyboardDragPoint=void 0;return}else if(u.get("focusableGroup")){const x=u.get("focusableGroup"),y=this._tabindexes.filter(k=>!!(k.get("focusableGroup")==x&&k.getPrivate("focusable")!==!1&&k.isVisibleDeep()));let b=y.indexOf(u);const T=y.length-1;b+=f=="ArrowRight"||f=="ArrowDown"?1:-1,b<0?b=T:b>T&&(b=0),Di(y[b].getPrivate("focusElement").dom)}break;case"Tab":const v=u.get("focusableGroup");if(v&&this._isShift){this._skipNextGroupJump||(this._focusNext(u.getPrivate("focusElement").dom,-1,v),this._skipNextGroupJump=!0);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}get systemTooltip(){if(!this._systemTooltip){const t=kt.new(this,{themeTags:["system"]});this._systemTooltip=t}return this._systemTooltip}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Xi(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const t=this._getRealSize(),e=this._getCalculatedSize(t),i=Math.floor(e.width),s=Math.floor(e.height);if(i>0&&s>0){const a=Math.floor(t.width),r=Math.floor(t.height),n=this._htmlElementContainer;if(n.style.width=i+"px",n.style.height=s+"px",this._a11yD!==!0){const d=this._focusElementContainer;d.style.width=i+"px",d.style.height=s+"px"}this._renderer.resize(a,r,i,s);const o=this._rootContainer;o.setPrivate("width",i),o.setPrivate("height",s),this._render(),this._handleLogo()}}_render(){if(this.skipRenderFrame){this.skipRenderFrame=!1;return}this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(t){w(this._tickers,e=>{e(t)})}_runAnimations(t){let e=0;return jt(this._animations,i=>{const s=i._runAnimation(t);return s===He.Stopped?!1:(s===He.Playing&&++e,!0)}),this._isDirtyAnimation=!1,e===0}_runDirties(){let t={};for(;this._isDirtyParents;)this._isDirtyParents=!1,dt(this._dirtyParents).forEach(([r,n])=>{delete this._dirtyParents[r],n.isDisposed()||(t[n.uid]=n,n._prepareChildren())});dt(t).forEach(([r,n])=>{n._updateChildren()});const e=[];dt(this._dirty).forEach(([r,n])=>{n.isDisposed()?delete this._dirty[r]:(e.push(n),n._beforeChanged())}),e.forEach(r=>{r._changed(),delete this._dirty[r.uid],r._clearDirty()}),this._isDirty=!1;const i={},s=[];dt(this._dirtyBounds).forEach(([r,n])=>{delete this._dirtyBounds[r],n.isDisposed()||(i[n.uid]=n.depth(),s.push(n))}),this._positionHTMLElements(),s.sort((r,n)=>Yi(i[n.uid],i[r.uid])),s.forEach(r=>{r._updateBounds()});const a=this._dirtyPositions;dt(a).forEach(([r,n])=>{delete a[r],n.isDisposed()||n._updatePosition()}),e.forEach(r=>{r._afterChanged()}),dt(t).forEach(([r,n])=>{n._childrenPrep=!1,n._childrenUpdt=!1})}_renderFrame(t){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t);const e=this._runAnimations(t);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),this._tickers.length===0&&e&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(t,e){this.isDisposed()||(this.animationTime=t,this._renderFrame(t)?(this._ticker=null,this.animationTime=null):this._paused||(e?this._ticker:qe(this.fps,this._ticker)))}_runTickerNow(t=1e4){if(!this.isDisposed()){const e=performance.now()+t;for(;;){const i=performance.now();if(i>=e){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=t=>{this._runTicker(t)},qe(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(t){this._updateTick=t,t&&this._startTicker()}_addDirtyEntity(t){this._isDirty=!0,this._dirty[t.uid]===void 0&&(this._dirty[t.uid]=t),this._startTicker()}_addDirtyParent(t){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]===void 0&&(this._dirtyParents[t.uid]=t),this._startTicker()}_addDirtyBounds(t){this._isDirty=!0,this._dirtyBounds[t.uid]===void 0&&(this._dirtyBounds[t.uid]=t),this._startTicker()}_addDirtyPosition(t){this._isDirty=!0,this._dirtyPositions[t.uid]===void 0&&(this._dirtyPositions[t.uid]=t),this._startTicker()}_addAnimation(t){this._isDirtyAnimation=!0,this._animations.indexOf(t)===-1&&this._animations.push(t),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(t){return this._tickers.push(t),this._startTicker(),new rt(()=>{Pe(this._tickers,t)})}markDirtyGlobal(t){t||(t=this.container),t.walkChildren(e=>{e instanceof D&&this.markDirtyGlobal(e),e.markDirty(),e.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),w(this._disposers,t=>{t.dispose()}),this._inner&&wi(this._inner),pt(lt.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(t){if(this._a11yD!==!0){const e=this._readerAlertElement;t=Oe(t),e.innerHTML==t&&(e.innerHTML=""),e.innerHTML=t}}setThemes(t){this._rootContainer.set("themes",t);const e=this.tooltipContainer;e&&e._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const t=this._tooltipContainerSettings,e=this._rootContainer.children.push(D.new(this,{position:"absolute",isMeasured:!1,width:N,height:N,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=e;const i=kt.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(t){this._a11yD!=!0&&(t.get("focusable")?le(this._tabindexes,t):pt(this._tabindexes,t),this._invalidateTabindexes())}_unregisterTabindexOrder(t){this._a11yD!=!0&&(pt(this._tabindexes,t),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((e,i)=>{const s=e.get("tabindexOrder",0),a=i.get("tabindexOrder",0);return s==a?0:s>a?1:-1});const t=[];w(this._tabindexes,(e,i)=>{e.getPrivate("focusElement")?this._moveFocusElement(i,e):this._makeFocusElement(i,e);const s=e.get("focusableGroup");s&&e.getPrivate("focusable")!==!1&&(t.indexOf(s)!==-1?e.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(s))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(t,e){if(this._a11yD==!0||(e||(e=t.getPrivate("focusElement").dom),!e))return;const i=t.get("role");i?e.setAttribute("role",i):e.removeAttribute("role");const s=t.get("ariaLabel");if(s){const m=ki(t,s);e.setAttribute("aria-label",m)}else e.removeAttribute("aria-label");const a=t.get("ariaLive");a?e.setAttribute("aria-live",a):e.removeAttribute("aria-live");const r=t.get("ariaChecked");r!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-checked",r?"true":"false"):e.removeAttribute("aria-checked");const n=t.get("ariaCurrent");n!=null?e.setAttribute("aria-current",n):e.removeAttribute("aria-current");const o=t.get("ariaSelected");o!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-selected",o?"true":"false"):e.removeAttribute("aria-selected"),t.get("ariaHidden")?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden");const d=t.get("ariaOrientation");d?e.setAttribute("aria-orientation",d):e.removeAttribute("aria-orientation");const g=t.get("ariaValueNow");g?e.setAttribute("aria-valuenow",g):e.removeAttribute("aria-valuenow");const l=t.get("ariaValueMin");l?e.setAttribute("aria-valuemin",l):e.removeAttribute("aria-valuemin");const c=t.get("ariaValueMax");c?e.setAttribute("aria-valuemax",c):e.removeAttribute("aria-valuemax");const h=t.get("ariaValueText");h?e.setAttribute("aria-valuetext",h):e.removeAttribute("aria-valuetext");const p=t.get("ariaControls");p?e.setAttribute("aria-controls",p):e.removeAttribute("aria-controls"),t.get("visible")&&t.get("opacity")!==0&&t.get("role")!="tooltip"&&!t.isHidden()&&t.getPrivate("focusable")!==!1&&(t.height()||t.width())?(e.getAttribute("tabindex")!="-1"&&e.setAttribute("tabindex",""+this.tabindex),e.removeAttribute("aria-hidden")):(e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","true"))}_makeFocusElement(t,e){if(e.getPrivate("focusElement")||this._a11yD==!0)return;const i=document.createElement("div");e.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",ut(i,!1);const s=[];e.setPrivate("focusElement",{dom:i,disposers:s}),this._decorateFocusElement(e),s.push(P(i,"focus",a=>{this._handleFocus(a)})),s.push(P(i,"blur",a=>{this._handleBlur(a)})),this._moveFocusElement(t,e)}_removeFocusElement(t){if(this._a11yD==!0)return;pt(this._tabindexes,t);const e=t.getPrivate("focusElement");e&&(this._focusElementContainer.removeChild(e.dom),w(e.disposers,s=>{s.dispose()}))}_hideFocusElement(t){if(this._a11yD==!0)return;const e=t.getPrivate("focusElement");e.dom.style.display="none"}_moveFocusElement(t,e){if(this._a11yD==!0)return;const i=this._focusElementContainer,s=e.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[t])return;const a=this._focusElementContainer.children[t+1];a?i.insertBefore(s,a):i.append(s)}_positionFocusElement(t){if(this._a11yD==!0||t==null)return;this._focusElementContainer.scrollTop=0;const e=t.globalBounds();let i=e.right==e.left?t.width():e.right-e.left,s=e.top==e.bottom?t.height():e.bottom-e.top;const a=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let r=e.left-a,n=e.top-a;i<0&&(r+=i,i=Math.abs(i)),s<0&&(n+=s,s=Math.abs(s));const o=t.getPrivate("focusElement").dom;o.style.top=n+"px",o.style.left=r+"px",o.style.width=i+a*2+"px",o.style.height=s+a*2+"px"}_getSpriteByFocusElement(t){let e;return Ae(this._tabindexes,(i,s)=>i.getPrivate("focusElement").dom===t?(e=i,!1):!0),e}_handleFocus(t){if(this._a11yD==!0)return;const e=this._getSpriteByFocusElement(t.target);if(e){if(!e.isVisibleDeep()){this._focusNext(t.target,this._isShift?-1:1);return}this._positionFocusElement(e),this._focusedSprite=e,e.events.isEnabled("focus")&&e.events.dispatch("focus",{type:"focus",originalEvent:t,target:e}),e.getPrivate("focusElement").dom.tabIndex==-1&&(this._skipNextGroupJump=!1)}}_focusNext(t,e,i){if(this._a11yD==!0)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let a=s.indexOf(t)+e;a<0?a=s.length-1:a>=s.length&&(a=0);const r=s[a];if(i&&e==-1){const n=this._getSpriteByFocusElement(r);if(n&&n.get("focusableGroup")==i){this._focusNext(r,e);return}}r.focus()}_handleBlur(t){if(this._a11yD==!0)return;const e=this._focusedSprite;e&&!e.isDisposed()&&e.events.isEnabled("blur")&&e.events.dispatch("blur",{type:"blur",originalEvent:t,target:e}),this._focusedSprite=void 0}updateTooltip(t){if(this._a11yD==!0)return;const e=Oe(t._getText());let i=t.getPrivate("tooltipElement");t.get("role")=="tooltip"&&e!=""?(i||(i=this._makeTooltipElement(t)),i.innerHTML!=e&&(i.innerHTML=e),i.setAttribute("aria-hidden",t.isVisibleDeep()?"false":"true")):i&&(i.remove(),t.removePrivate("tooltipElement"))}_makeTooltipElement(t){const e=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",ut(i,!1),this._decorateFocusElement(t,i),e.append(i),t.setPrivate("tooltipElement",i),i}_removeTooltipElement(t){if(this._a11yD==!0)return;const e=t.getPrivate("tooltipElement");if(e){const i=e.parentElement;i&&i.removeChild(e)}}_invalidateAccessibility(t){if(this._a11yD==!0)return;this._focusElementDirty=!0;const e=t.getPrivate("focusElement");t.get("focusable")?e&&(this._decorateFocusElement(t),this._positionFocusElement(t)):e&&this._removeFocusElement(t)}focused(t){return this._focusedSprite===t}documentPointToRoot(t){const e=this._getRealSize(),i=this._getCalculatedSize(e),s=i.width/e.width,a=i.height/e.height;return{x:(t.x-e.left)*s,y:(t.y-e.top)*a}}rootPointToDocument(t){const e=this._getRealSize(),i=this._getCalculatedSize(e),s=i.width/e.width,a=i.height/e.height;return{x:t.x/s+e.left,y:t.y/a+e.top}}addDisposer(t){return this._disposers.push(t),t}_updateComputedStyles(){const t=window.getComputedStyle(this.dom);let e="";j(t,(s,a)=>{bt(s)&&s.match(/^font/)&&(e+=a)});const i=e!=this._fontHash;return i&&(this._fontHash=e),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(t){t instanceof D?t.children.each(e=>{this._invalidateLabelBounds(e)}):t instanceof Ti&&t.markDirtyBounds()}_hasLicense(){for(let t=0;t<lt.licenses.length;t++)if(lt.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(t){this._renderer.debugGhostView=t}set tapToActivate(t){this._renderer.tapToActivate=t}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(t){this._renderer.tapToActivateTimeout=t}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(t){const e=this._htmlElementContainer,i=document.createElement("div");t.setPrivate("htmlElement",i);let s=!1,a;t._walkParents(n=>{if(n.get("verticalScrollbar"))return s=!0,a=n,!1});let r;return s&&(r=document.createElement("div"),t.setPrivate("htmlElementWrapper",r),t.setPrivate("wrapperContainer",a),r.style.position="absolute",r.style.overflow="hidden",r.style.boxSizing="border-box",r.style.top="0px",r.style.left="0px",r.style.width="100%",r.style.height="100%",a.events.on("boundschanged",()=>{this._positionHTMLElement(t)})),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",ut(i,t.get("interactive",!1)),t.events.isEnabled("click")&&(ut(i,!0),this._disposers.push(P(i,"click",n=>{const o=this._renderer.getEvent(n);t.events.dispatch("click",{type:"click",originalEvent:o.event,point:o.point,simulated:!1,target:t})}))),this._positionHTMLElement(t),s?(r.append(i),e.append(r)):e.append(i),le(this._htmlEnabledContainers,t),i}_positionHTMLElements(){w(this._htmlEnabledContainers,t=>{this._positionHTMLElement(t)})}_positionHTMLElement(t){const e=t.getPrivate("htmlElementWrapper");if(e){const s=t.getPrivate("wrapperContainer");if(s){const a=s.globalBounds();e.style.clipPath="rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"}}const i=t.getPrivate("htmlElement");if(i){w(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],x=>{const y=t.get(x);y?i.style[x]=y+"px":i.style[x]=""}),w(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],x=>{const y=t.get(x);y?x=="fontSize"&&!bt(y)?i.style[x]=y+"px":i.style[x]=y+"":i.style[x]=""});const r=t.compositeScale()||1,n=t.compositeRotation()||0;i.style.transform="",i.style.transformOrigin="";const o=t.compositeOpacity();setTimeout(()=>{i.style.opacity=o+""},10);const d=t.isVisibleDeep();d&&(i.style.display="block");let g={x:t.x()+t.get("dx",0),y:t.y()+t.get("dy",0)};t.parent&&(g=t.parent.toGlobal(g)),i.style.top=g.y+"px",i.style.left=g.x+"px";const l=t.get("width"),c=t.get("height");let h=0,p=0;if(l&&(h=t.width()),c&&(p=t.height()),!l||!c){i.style.position="fixed",i.style.width="",i.style.height="";const x=i.getBoundingClientRect();i.style.position="absolute",l||(h=x.width),c||(p=x.height);let y=h/r,b=p/r,T=t.get("centerX",0),k=t.get("centerY",0),M=0,L=0,S=0,C=0;T instanceof st?(M=-T.value*y,L=(1-T.value)*y):(M=-T,L=y-T),k instanceof st?(S=-k.value*b,C=(1-k.value)*b):(S=-k,C=b-k),t._localBounds={left:M,right:L,top:S,bottom:C};let O=t._adjustedLocalBounds,R=t._display.getAdjustedBounds(t._localBounds);t._adjustedLocalBounds=R,(O.left!==R.left||O.right!==R.right||O.top!==R.top||O.bottom!==R.bottom)&&t.markDirtyBounds()}h>0&&(i.style.minWidth=h+"px"),p>0&&(i.style.minHeight=p+"px"),(!d||o==0)&&(i.style.display="none");const m=t.get("centerX",0),u=Re(m)?m.percent+"%":m+"px",f=t.get("centerY",0),v=Re(f)?f.percent+"%":f+"px";(m||f)&&(i.style.transform="translate(-"+u+", -"+v+")"+i.style.transform),r!=1&&(i.style.transform+="scale("+r+")"),n!=0&&(i.style.transform+=" rotate("+n+"deg)"),i.style.transform!=""&&(i.style.transformOrigin=u+" "+v)}}_setHTMLContent(t,e){let i=t.getPrivate("htmlElement");i||(i=this._makeHTMLElement(t),this.autoResize||this.resize()),i.innerHTML!=e&&(i.innerHTML=e)}_removeHTMLContent(t){const e=t.getPrivate("htmlElementWrapper"),i=t.getPrivate("htmlElement");e?(this._htmlElementContainer.removeChild(e),t.removePrivate("htmlElement"),t.removePrivate("htmlElementWrapper"),t.removePrivate("wrapperContainer")):i&&(this._htmlElementContainer.removeChild(i),t.removePrivate("htmlElement"),t.removePrivate("wrapperContainer")),pt(this._htmlEnabledContainers,t)}}let It;function Ps(_,t,e){const i=t.interfaceColors,s=i.get("secondaryButton").toCSS(),a=i.get("text").toCSS(),r=i.get("alternativeBackground").toCSS(.45);if(!It){const n=new Nt([new I(_,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},t.nonce),new I(_,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},t.nonce),new I(_,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},t.nonce),new I(_,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},t.nonce),new I(_,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+r,"box-shadow":"0px 0px 36px 0px "+r,color:a},t.nonce),new I(_,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},t.nonce),new I(_,".am5-modal-table",{display:"table",margin:"1em 0"},t.nonce),new I(_,".am5-modal-table-row",{display:"table-row"},t.nonce),new I(_,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},t.nonce),new I(_,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},t.nonce),new I(_,".am5-modal-table-cell > *",{"vertical-align":"middle"},t.nonce),new I(_,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+s,"border-radius":"4px",padding:"3px 5px",margin:"2px"},t.nonce),new I(_,".am5-modal-input-narrow",{width:"50px"},t.nonce),new I(_,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},t.nonce),new I(_,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},t.nonce),new I(_,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},t.nonce),new I(_,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},t.nonce)]);It=new Qe(()=>{It=void 0,n.dispose()})}return It.increment()}class de extends G{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),Ps(Ei(this._root.dom),this._root);const t=document.createElement("div");t.className="am5-modal",t.style.display="none",this.root._inner.appendChild(t),this.setPrivate("container",t);const e=document.createElement("div");e.className="am5-modal-curtain",t.appendChild(e),this.setPrivate("curtain",e),this._disposers.push(P(e,"click",()=>{this.cancel()}));const i=document.createElement("div");i.className="am5-modal-wrapper",t.appendChild(i),this.setPrivate("wrapper",i);const s=document.createElement("div");s.className="am5-modal-content",i.appendChild(s),this.setPrivate("content",s);const a=this.get("content");a&&(s.innerHTML=a),vt("keyboardevents")&&this._disposers.push(P(document,"keydown",r=>{this.isOpen()&&_t(r)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();const t=this.getPrivate("container");t.parentElement&&t.parentElement.removeChild(t)}}de.className="Modal";de.classNames=G.classNames.concat([de.className]);class ue extends G{_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const t=this.get("sprite");t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}ue.className="Bullet";ue.classNames=G.classNames.concat([ue.className]);class fe extends Et{_afterNew(){super._afterNew(),this.addTag("confirm"),vt("keyboardevents")&&this._disposers.push(P(document,"keydown",t=>{const e=_t(t);this.get("active")&&e=="Escape"&&this._cancel()})),this._disposers.push(P(document,"click",()=>{this._ignoreClick||this._cancel(),this._ignoreClick=!1})),this.events.on("click",()=>{this.get("active")||(this._ignoreClick=!0),this._confirm()})}_cancel(){this.get("active")&&(this.events.dispatch("cancelled",{type:"cancelled",target:this}),this.set("active",!1))}_confirm(){this.get("active")&&(this.events.dispatch("confirmed",{type:"confirmed",target:this}),this.set("active",!1),this.isFocus()&&this.setTimeout(()=>{this.set("active",!1),Je()},10))}_prepareChildren(){super._prepareChildren()}}fe.className="ConfirmButton";fe.classNames=Et.classNames.concat([fe.className]);class Gt extends z{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,Math.abs(this.get("radius",10)))}}Gt.className="Circle";Gt.classNames=z.classNames.concat([Gt.className]);class pe extends z{_beforeChanged(){if(super._beforeChanged(),this.isDirty("coordinates")){const t=[],e=this.get("coordinates");e&&w(e,i=>{t.push({x:i[0],y:i[1]})}),this.set("points",t)}if(this.isPrivateDirty("points")&&(this._clear=!0),this.isDirty("points")){this._clear=!0;const t=this.get("points"),e=this._prevSettings.points;if(e){if(t){let n=Ct(t),o=Ct(e),d=n.length,g=o.length;if(d>g){let l=Ct(n);for(let c=0;c<d;c++){let h=Math.floor(c/d*g);l[c]={x:o[h].x,y:o[h].y}}o=l}else if(g>d){let l=Ct(o);for(let c=0;c<g;c++){let h=Math.floor(c/g*d);l[c]={x:n[h].x,y:n[h].y}}n=l}this.setPrivateRaw("previousPoints",o),this.setPrivateRaw("points",n),this.morphAnimation=this.animatePrivate({key:"morphProgress",from:0,to:1,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),this._root.events.once("frameended",()=>{this._markDirtyPrivateKey("morphProgress")})}}else this.setPrivateRaw("previousPoints",t),this.setPrivateRaw("points",t);let i=1/0,s=-1/0,a=1/0,r=-1/0;if(t)for(let n=1,o=t.length;n<o;n++){const d=t[n];i=Math.min(i,d.x),s=Math.max(s,d.x),a=Math.min(a,d.y),r=Math.max(r,d.y)}this.setPrivate("minX",i),this.setPrivate("maxX",s),this.setPrivate("minY",a),this.setPrivate("maxY",a)}this.isPrivateDirty("morphProgress")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._draw()}_draw(){const t=this.getPrivate("previousPoints"),e=this.getPrivate("points"),i=this.getPrivate("morphProgress",1);if(e&&t){const s=e[0],a=t[0];s&&this._display.moveTo(a.x+(s.x-a.x)*i,a.y+(s.y-a.y)*i);for(let r=1,n=e.length;r<n;r++){const o=e[r],d=t[r];this._display.lineTo(d.x+(o.x-d.x)*i,d.y+(o.y-d.y)*i)}this._display.closePath()}}_updateSize(){this.markDirty(),this._clear=!0}}pe.className="Polygon";pe.classNames=z.classNames.concat([pe.className]);class ge extends z{_beforeChanged(){super._beforeChanged(),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}ge.className="Ellipse";ge.classNames=z.classNames.concat([ge.className]);class _e extends z{_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const t=this._display,e=this.get("radius",0),i=Pt(this.get("innerRadius",0),e),s=this.get("spikes",0),a=Math.PI/s;let r=Math.PI/2*3;t.moveTo(0,-e);for(let n=0;n<s;n++)t.lineTo(Math.cos(r)*e,Math.sin(r)*e),r+=a,t.lineTo(Math.cos(r)*i,Math.sin(r)*i),r+=a;t.lineTo(0,-e),t.closePath()}}}_e.className="Star";_e.classNames=z.classNames.concat([_e.className]);class Xt extends D{constructor(){super(...arguments),this._movePoints={},this._downScale=1,this._downX=0,this._downY=0,this.contents=this.children.push(D.new(this._root,{width:N,height:N,x:0,y:0,draggable:!0,background:Jt.new(this._root,{fill:tt(16777215),fillOpacity:0})}))}_afterNew(){super._afterNew();const t=this.contents.events;this._disposers.push(t.on("pointerdown",s=>{this._handleThisDown(s)})),this._disposers.push(t.on("globalpointerup",s=>{this._handleThisUp(s)})),this._disposers.push(t.on("globalpointermove",s=>{this._handleThisMove(s)}));const e=this.contents.get("background");e&&(e.adapters.add("width",s=>Number(s)*20),e.adapters.add("height",s=>Number(s)*20),e.adapters.add("x",s=>Number(s)-e.width()/2),e.adapters.add("y",s=>Number(s)-e.height()/2));const i=this.contents;i.adapters.add("x",s=>{const a=i.get("scale",1);if(E(s)&&a>=1){let r=this.get("maxPanOut",.4),n=i.width();s=Math.min(n*r,s),s=Math.max(this.width()-n*a*(1+r),s)}return s}),i.adapters.add("y",s=>{const a=i.get("scale",1);if(E(s)&&a>=1){let r=this.get("maxPanOut",.4),n=i.height();s=Math.min(n*r,s),s=Math.max(this.height()-n*a*(1+r),s)}return s})}_prepareChildren(){super._prepareChildren(),this.isDirty("wheelable")&&this._handleSetWheel(),this.contents._display.cancelTouch=this.get("pinchZoom",!1)}_handleSetWheel(){this.get("wheelable")?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=this.events.on("wheel",t=>{const e=t.originalEvent;if(Bi(e,this))e.preventDefault();else return;const i=this.toLocal(t.point);this._handleWheelZoom(e.deltaY,i)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_handleWheelZoom(t,e){let i=this.get("zoomStep",2),s=this.contents.get("scale",1),a=s;t>0?a=s/i:t<0&&(a=s*i),a!=s&&this.zoomToPoint(e,a)}zoomToPoint(t,e){e&&(e=U(e,this.get("minZoomLevel",1),this.get("maxZoomLevel",32)));const i=this.contents.get("scale",1);let s=t.x,a=t.y,r=s,n=a;const o=this.contents;let d=o.x(),g=o.y(),l=r-(s-d)/i*e,c=n-(a-g)/i*e;return this._animateTo(l,c,e),this._za}zoomIn(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)*this.get("zoomStep",2))}zoomOut(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)/this.get("zoomStep",2))}goHome(){return this._animateTo(0,0,1)}_animateTo(t,e,i){const s=this.get("animationDuration",0),a=this.get("animationEasing"),r=this.contents;this._txa=r.animate({key:"x",to:t,duration:s,easing:a}),this._tya=r.animate({key:"y",to:e,duration:s,easing:a}),this._za=r.animate({key:"scale",to:i,duration:s,easing:a})}_handleThisUp(t){this._downPoints={}}_handleThisDown(t){const e=this.contents;this._downScale=e.get("scale",1);const i=e._downPoints;let s=Ye(i).length;if(s==1){let a=i[1];a||(a=i[0]),a&&a.x==t.point.x&&a.y==t.point.y&&(s=0)}if(s>0){this._downX=e.x(),this._downY=e.y();const a=e._getDownPointId();if(a){let r=this._movePoints[a];r&&(e._downPoints[a]=r)}}}_handleThisMove(t){const i=t.originalEvent.pointerId;if(this.get("pinchZoom")&&i&&(this._movePoints[i]=t.point,Ye(this.contents._downPoints).length>1)){this._handlePinch();return}}_handlePinch(){let t=0,e=[],i=[];if(j(this.contents._downPoints,(s,a)=>{e[t]=a;let r=this._movePoints[s];r&&(i[t]=r),t++}),e.length>1&&i.length>1){this.contents._isDragging=!1;let s=e[0],a=e[1],r=i[0],n=i[1];if(s&&a&&r&&n){s=this.toLocal(s),a=this.toLocal(a),r=this.toLocal(r),n=this.toLocal(n);let o=Math.hypot(a.x-s.x,a.y-s.y),g=Math.hypot(n.x-r.x,n.y-r.y)/o*this._downScale,l={x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2},c={x:s.x+(a.x-s.x)/2,y:s.y+(a.y-s.y)/2},h=this._downX||0,p=this._downY||0,m=this._downScale,u=l.x-(-h+c.x)/m*g,f=l.y-(-p+c.y)/m*g;this.contents.setAll({x:u,y:f,scale:g})}}}}Xt.className="ZoomableContainer";Xt.classNames=D.classNames.concat([Xt.className]);class nt extends G{_afterNew(){super._afterNewApplyThemes()}getFill(t){return{addColorStop:(e,i)=>{}}}_changed(){super._changed()}getBounds(t){const e=this.get("target");if(e){let i=e.globalBounds();const s=t.toLocal({x:i.left,y:i.top}),a=t.toLocal({x:i.right,y:i.top}),r=t.toLocal({x:i.right,y:i.bottom}),n=t.toLocal({x:i.left,y:i.bottom});return{left:Math.min(s.x,a.x,r.x,n.x),top:Math.min(s.y,a.y,r.y,n.y),right:Math.max(s.x,a.x,r.x,n.x),bottom:Math.max(s.y,a.y,r.y,n.y)}}return t._display.getLocalBounds()}}nt.className="Gradient";nt.classNames=G.classNames.concat([nt.className]);class Vt extends nt{getFill(t){const e=this.get("rotation",0);let i=this.getBounds(t),s=i.left||0,a=i.right||0,r=i.top||0,n=i.bottom||0,o=At(e),d=Lt(e),g=o*(a-s),l=d*(n-r);g==0&&(g=1),l==0&&(l=1);let c=Math.max(g,l);const h=this._root._renderer.createLinearGradient(s,r,s+c*o,r+c*d),p=this.get("stops");if(p){let m=0;w(p,u=>{let f=u.offset;E(f)||(f=m/(p.length-1));let v=u.opacity;E(v)||(v=1);let x=u.color;if(x){const y=u.lighten;y&&(x=W.lighten(x,y));const b=u.brighten;b&&(x=W.brighten(x,b)),h.addColorStop(f,"rgba("+x.r+","+x.g+","+x.b+","+v+")")}m++})}return h}}Vt.className="LinearGradient";Vt.classNames=nt.classNames.concat([Vt.className]);class me extends D{constructor(){super(...arguments),this.labelContainer=this.children.push(D.new(this._root,{})),this.markerContainer=this.children.push(D.new(this._root,{})),this.startLabel=this.labelContainer.children.push(xt.new(this._root,{themeTags:["start"]})),this.endLabel=this.labelContainer.children.push(xt.new(this._root,{themeTags:["end"]})),this.markers=this.addDisposer(new ft(gt.new({}),()=>zt._new(this._root,{themeTags:q(this.markers.template.get("themeTags",[]),[this.get("orientation"),"heatlegend","marker"])},[this.markers.template])))}_afterNew(){this._settings.themeTags=q(this._settings.themeTags,["heatlegend",this._settings.orientation]),super._afterNew(),this.set("tooltip",kt.new(this._root,{themeTags:["heatlegend"]}))}makeMarker(){const t=this.markers.make();return t.states.create("disabled",{}),t}showValue(t,e,i){const s=this.getTooltip();if(s&&E(t)){const a=this.get("startValue",0),r=this.get("endValue",1);let n=(t-a)/(r-a);(n==1/0||n==-1/0||isNaN(n))&&(n=.5);const o=this.get("startColor"),d=this.get("endColor");e||(e=this.getNumberFormatter().format(t)),i||(i=W.interpolate(n,o,d)),s.label.set("text",e);let g;this.get("orientation")=="vertical"?g=this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-n)}):g=this.markerContainer.toGlobal({x:this.innerWidth()*n,y:0});let l=s.get("background");l&&l.set("fill",i),s.set("pointTo",g),s.show()}}_prepareChildren(){super._prepareChildren();const t=this.labelContainer,e=this.get("orientation"),i=this.startLabel,s=this.endLabel,a=this.getTooltip();if(this.isDirty("orientation")&&(e=="vertical"?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:N}),this.set("layout",this._root.horizontalLayout),i.setAll({y:N,x:void 0,centerY:N,centerX:N}),s.setAll({y:0,x:void 0,centerY:0,centerX:N}),t.setAll({height:N,width:void 0}),a&&a.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:N}),this.set("layout",this._root.verticalLayout),i.setAll({x:0,y:void 0,centerX:0,centerY:0}),s.setAll({x:N,y:void 0,centerX:N,centerY:0}),t.setAll({width:N,height:void 0}),a&&a.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){const r=this.get("stepCount",1),n=this.get("startColor"),o=this.get("endColor"),d=this.get("startOpacity",1),g=this.get("endOpacity",1);if(this.markerContainer.children.clear(),r>1)for(let l=0;l<r;l++){const c=this.makeMarker();e=="vertical"?this.markerContainer.children.moveValue(c,0):this.markerContainer.children.push(c),n&&o&&c.setAll({fill:W.interpolate(l/r,n,o),fillOpacity:Kt(l/r*100).interpolate(d,g)})}else if(r==1){const l=this.makeMarker();this.markerContainer.children.push(l);const c=Vt.new(this._root,{stops:[{color:n,opacity:d},{color:o,opacity:g}]});if(e=="vertical"){c.set("rotation",90);let h=c.get("stops");h&&h.reverse()}else c.set("rotation",0);n&&o&&l.set("fillGradient",c)}}(this.isDirty("startText")||this.isDirty("startValue"))&&i.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&s.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}me.className="HeatLegend";me.classNames=D.classNames.concat([me.className]);class ye extends je{constructor(){super(...arguments),this.itemContainers=this.addDisposer(new ft(gt.new({}),()=>D._new(this._root,{themeTags:q(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:q(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:zt.new(this._root,{themeTags:q(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:q(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template]))),this.markers=this.addDisposer(new ft(gt.new({}),()=>D._new(this._root,{themeTags:q(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template]))),this.labels=this.addDisposer(new ft(gt.new({}),()=>xt._new(this._root,{themeTags:q(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template]))),this.valueLabels=this.addDisposer(new ft(gt.new({}),()=>xt._new(this._root,{themeTags:q(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template]))),this.markerRectangles=this.addDisposer(new ft(gt.new({}),()=>zt._new(this._root,{themeTags:q(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))}_afterNew(){this._settings.themeTags=q(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(t){const e=this.children.push(this.itemContainers.make());return e._setDataItem(t),this.itemContainers.push(e),e.states.create("disabled",{}),e}makeMarker(){const t=this.markers.make();return this.markers.push(t),t.states.create("disabled",{}),t}makeLabel(){const t=this.labels.make();return t.states.create("disabled",{}),t}makeValueLabel(){const t=this.valueLabels.make();return t.states.create("disabled",{}),t}makeMarkerRectangle(){const t=this.markerRectangles.make();return t.states.create("disabled",{}),t}processDataItem(t){super.processDataItem(t);const e=this.makeItemContainer(t),i=this.get("nameField"),s=this.get("fillField"),a=this.get("strokeField");if(e){const r=this.get("clickTarget","itemContainer"),n=t.dataContext;n&&n.set&&n.set("legendDataItem",t),e._setDataItem(t),t.set("itemContainer",e);const o=this.makeMarker();if(o){e.children.push(o),o._setDataItem(t),t.set("marker",o);const l=this.get("useDefaultMarker"),c=o.children.push(this.makeMarkerRectangle());let h=t.get("fill"),p=t.get("stroke");t.set("markerRectangle",c),n&&n.get&&(h=n.get(s,h),p=n.get(a,p)),p||(p=h),l?n.on&&(n.on(s,()=>{c.set("fill",n.get(s))}),n.on(a,()=>{c.set("stroke",n.get(a))})):n&&n.createLegendMarker&&n.createLegendMarker(),c.setAll({fill:h,stroke:p});const m=n.component;m&&m.updateLegendMarker&&m.updateLegendMarker(n)}const d=this.makeLabel();if(d){e.children.push(d),d._setDataItem(t),t.set("label",d),d.text.on("text",()=>{e.setRaw("ariaLabel",d.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),e.markDirtyAccessibility()}),n&&n.get&&t.set("name",n.get(i));let l=t.get("name");l&&d.set("text",l)}const g=this.makeValueLabel();if(g&&(e.children.push(g),g._setDataItem(t),t.set("valueLabel",g)),n&&n.show&&(n.on("visible",l=>{e.set("disabled",!l)}),n.get("visible")||e.set("disabled",!0),r!="none")){let l=e;r=="marker"&&(l=o),this._addClickEvents(l,n,t)}this.children.values.sort((l,c)=>{const h=l.dataItem.dataContext,p=c.dataItem.dataContext;if(h&&p){const m=this.data.indexOf(h),u=this.data.indexOf(p);if(m>u)return 1;if(m<u)return-1}return 0}),n&&n.updateLegendValue&&n.updateLegendValue()}}_addClickEvents(t,e,i){t.set("cursorOverStyle","pointer"),t.events.on("pointerover",()=>{const s=e.component;s&&s.hoverDataItem&&s.hoverDataItem(e)}),t.events.on("pointerout",()=>{const s=e.component;s&&s.hoverDataItem&&s.unhoverDataItem(e)}),t.events.on("click",()=>{const s=i.get("label").text._getText();e.show&&e.isHidden&&(e.isHidden()||e.get("visible")===!1)?(e.show(),t.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,s))):e.hide&&(e.hide(),t.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,s)))})}disposeDataItem(t){super.disposeDataItem(t);const e=t.dataContext;e&&e.get&&e.get("legendDataItem")==t&&e.set("legendDataItem",void 0);let i=t.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let s=t.get("marker");s&&(this.markers.removeValue(s),s.dispose());let a=t.get("markerRectangle");a&&(this.markerRectangles.removeValue(a),a.dispose());let r=t.get("label");r&&(this.labels.removeValue(r),r.dispose());let n=t.get("valueLabel");n&&(this.valueLabels.removeValue(n),n.dispose())}}ye.className="Legend";ye.classNames=je.classNames.concat([ye.className]);class ot extends z{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){const t=this.width(),e=this.height(),i=this._display;i.moveTo(-t/2,e/2),i.lineTo(0,-e/2),i.lineTo(t/2,e/2),i.lineTo(-t/2,e/2),i.closePath()}_updateSize(){this.markDirty(),this._clear=!0}}ot.className="Triangle";ot.classNames=z.classNames.concat([ot.className]);class it extends z{_beforeChanged(){super._beforeChanged(),this.isDirty("points")&&(this._clear=!0)}static makeOrthogonal(t){if(t.length>1){const e=[];for(let i=0;i<t.length-1;i++){const s=t[i],a=t[i+1];e.push(s),s.x!==a.x&&s.y!==a.y&&e.push({x:a.x,y:s.y})}e.push(t[t.length-1]),t=e}return t}_changed(){if(super._changed(),this._clear){const t=this._display;let e=this.get("points",[]);if(e.length===0)return;e=it.makeOrthogonal(e),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;i++){let s=this.get("cornerRadius",0);const a=e[i-1],r=e[i],n=e[i+1],o=r.y===a.y&&r.x!==a.x,d=r.x===a.x&&r.y!==a.y,g=n&&(o&&n.y!==r.y||d&&n.x!==r.x);if(s>0&&n&&g){if(d){s=Math.min(s,Math.abs(r.x-n.x)/2,Math.abs(r.y-a.y)/2);const l=Math.sign(r.y-a.y);t.lineTo(r.x,r.y-s*l);const c=n.x<r.x?-1:1;t.arcTo(r.x,r.y,r.x+s*c,r.y,s)}else if(o){s=Math.min(s,Math.abs(r.y-n.y)/2,Math.abs(r.x-a.x)/2);const l=Math.sign(r.x-a.x);t.lineTo(r.x-s*l,r.y);const c=n.y<r.y?-1:1;t.arcTo(r.x,r.y,r.x,r.y+s*c,s)}}else t.lineTo(r.x,r.y)}}}}it.className="OrthogonalLine";it.classNames=z.classNames.concat([it.className]);class xe extends D{constructor(){super(...arguments),this.line=this.children.push(it.new(this._root,{themeTags:["line"]})),this.hitLine=this.children.push(it.new(this._root,{themeTags:["hit"]})),this.startArrow=this.children.push(ot.new(this._root,{themeTags:["start","arrow"]})),this.endArrow=this.children.push(ot.new(this._root,{themeTags:["end","arrow"]}))}_afterNew(){this.addTag("link"),super._afterNew()}_updateChildren(){if(super._updateChildren(),this.isDirty("points")){let t=it.makeOrthogonal(this.get("points",[]));this.line.set("points",t),this.hitLine.set("points",t);const e=this.startArrow,i=this.endArrow,s=t.length;if(s>1){const[a,r]=t;e.setAll({x:a.x,y:a.y,rotation:he(a,r)-90});const n=t[s-1],o=t[s-2];i.setAll({x:n.x,y:n.y,rotation:he(o,n)+90})}else if(s===1){const[a]=t;e.setAll({x:a.x,y:a.y,rotation:0}),i.setAll({x:a.x,y:a.y,rotation:0})}}}}xe.className="Link";xe.classNames=D.classNames.concat([xe.className]);class ve extends $e{constructor(){super(...arguments),this._display=this._root._renderer.makePicture(void 0)}_changed(){if(super._changed(),this.isDirty("width")){const t=this.get("width");this._display.width=E(t)?t:void 0}if(this.isDirty("height")){const t=this.get("height");this._display.height=E(t)?t:void 0}if(this.isDirty("shadowColor")){this._display.clear();const t=this.get("shadowColor");this._display.shadowColor=t??void 0}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const t=this.get("src");if(t){const e=new Image;e.crossOrigin=this.get("cors","anonymous"),e.src=t;const i=this.events;e.decode().then(()=>{this._display.image=e,this._updateSize(),!i.isDisposed()&&i.isEnabled("loaded")&&i.dispatch("loaded",{type:"loaded",target:this})}).catch(s=>{!i.isDisposed()&&i.isEnabled("loaderror")&&i.dispatch("loaderror",{type:"loaderror",target:this})})}}_updateSize(){super._updateSize();const t=this._display.image;if(t){let e=this.getPrivate("width",this.get("width")),i=this.getPrivate("height",this.get("height"));const s=t.width&&t.height?t.width/t.height:0;E(e)&&E(i)?(this._display.width=e,this._display.height=i):E(e)&&s?i=e/s:E(i)&&s?e=i*s:(e=t.width,i=t.height),E(e)&&(this._display.width=e),E(i)&&(this._display.height=i),this.markDirtyBounds(),this.markDirty()}}}ve.className="Picture";ve.classNames=$e.classNames.concat([ve.className]);class be extends ti{_afterNew(){this._addOrientationClass(),super._afterNew(),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}updateGrips(){super.updateGrips();const t=this.startGrip;this.endGrip.setAll({x:t.x(),y:t.y()}),this.setRaw("end",this.get("start"))}}be.className="Slider";be.classNames=ti.classNames.concat([be.className]);class we extends D{constructor(){super(...arguments),this.homeButton=this.children.push(Et.new(this._root,{width:35,height:35,themeTags:["home"]})),this.plusButton=this.children.push(Et.new(this._root,{width:35,height:35,themeTags:["plus"]})),this.minusButton=this.children.push(Et.new(this._root,{width:35,height:35,themeTags:["minus"]}))}_afterNew(){super._afterNew(),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.addTag("zoomtools"),this.plusButton.setAll({icon:z.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:z.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.homeButton.setAll({icon:z.new(this._root,{themeTags:["icon"]}),layout:void 0})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("target")){const t=this.get("target"),e=this._prevSettings.target;t&&(t instanceof Xt&&(this._targetDisposer=this.addDisposer(t.contents.on("scale",i=>{i==t.get("minZoomLevel")?this.minusButton.set("disabled",!0):this.minusButton.set("disabled",!1),i==t.get("maxZoomLevel")?this.plusButton.set("disabled",!0):this.plusButton.set("disabled",!1)})),this.root.events.once("frameended",()=>{t.get("scale")==t.get("minZoomLevel")&&this.minusButton.set("disabled",!0)})),this._disposer=new Nt([this.plusButton.events.on("click",()=>{t.zoomIn()}),this.minusButton.events.on("click",()=>{t.zoomOut()}),this.homeButton.events.on("click",()=>{t.goHome()})])),e&&(this._disposer&&this._disposer.dispose(),this._targetDisposer&&this._targetDisposer.dispose())}}}we.className="ZoomTools";we.classNames=D.classNames.concat([we.className]);class ke extends ${constructor(){super(...arguments),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this._clearGrain=!1}_beforeChanged(){this.canvas.width=this.get("width",200),this.canvas.height=this.get("height",200),(this.isDirty("size")||this.isDirty("density")||this.isDirty("minOpacity")||this.isDirty("maxOpacity")||this.isDirty("colors")||this.isDirty("horizontalGap")||this.isDirty("verticalGap"))&&(this._clearGrain=!0),super._beforeChanged()}_changed(){if(super._changed(),this._clearGrain){const t=this.get("width",200),e=this.get("height",200),i=this.context.getImageData(0,0,t,e),s=Math.max(1,this.get("size",1)),a=this.get("minOpacity",0),r=this.get("maxOpacity",.3),n=this.get("colors",[this.get("color",W.fromHex(0))]),o=t/s,d=e/s,g=this.get("density",1),l=this.get("horizontalGap",0)+1,c=this.get("verticalGap",0)+1;for(let h=0;h<d;h++)if(!(c>0&&h/c!=Math.round(h/c)))for(let p=0;p<o;p++){const m=n[Math.floor(Math.random()*n.length)],u=(a+Math.random()*(r-a))*255,f=Math.random();l>0&&p/l!=Math.round(p/l)||f<g&&this._setRectData(p,h,s,t,i.data,m.r,m.g,m.b,u)}this.context.putImageData(i,0,0),this._pattern=this.context.createPattern(this.canvas,"repeat")}this._clearGrain=!1}_checkDirtyFill(){return!1}_setRectData(t,e,i,s,a,r,n,o,d){for(var g=t*i;g<t*i+i;g++)for(var l=e*i;l<e*i+i;l++){var c=(l*s+g)*4;a[c]=r,a[c+1]=n,a[c+2]=o,a[c+3]=d}}}ke.className="GrainPattern";ke.classNames=$.classNames.concat([ke.className]);class Te extends nt{getFill(t){const e=this.getBounds(t);let i=0,s=0,a=e.left||0,r=e.right||0,n=e.top||0,o=e.bottom||0;const d=r-a,g=o-n;let l=t.get("radius");E(l)?(i=0,s=0):(l=Math.min(d,g)/2,i=d/2,s=g/2);let c=this.get("x"),h=this.get("y");c!=null&&(i=Pt(c,d)),h!=null&&(s=Pt(h,g));const p=this._root._renderer.createRadialGradient(i,s,0,i,s,l),m=this.get("stops");if(m){let u=0;w(m,f=>{let v=f.offset;E(v)||(v=u/(m.length-1));let x=f.opacity;E(x)||(x=1);let y=f.color;if(y){const b=f.lighten;b&&(y=W.lighten(y,b));const T=f.brighten;T&&(y=W.brighten(y,T)),p.addColorStop(v,"rgba("+y.r+","+y.g+","+y.b+","+x+")")}u++})}return p}}Te.className="RadialGradient";Te.classNames=nt.classNames.concat([Te.className]);class Ut extends ${_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const t=this.get("checkered",!1),e=this.get("centered",!0),i=this.get("gap",0),s=this.get("rotation",0);let a=this.get("width",100),r=this.get("height",100),n=this.get("radius",3),o=n*2+i,d=n*2+i,g=Math.round(a/o),l=Math.round(r/d);o=a/g,d=r/l,s!=0&&(this._display.x=o*At(s),this._display.y=d*Lt(s));const c=this.get("color"),h=this.get("colorOpacity");(c||h)&&this._display.beginFill(c,h);for(let p=s==0?0:-l*2;p<l*2;p++)for(let m=s==0?0:-g*2;m<g*2;m++)if(!t||(p&1)!=1&&(m&1)!=1||(p&1)==1&&(m&1)==1){let u=m*o,f=p*d;e&&(u+=o+i/2,f+=d+i/2),this._display.drawCircle(u-n,f-n,n)}t?(a=a/2-i*2,r=r/2-i*2):(a-=i,r-=i),(c||h)&&this._display.endFill()}}Ut.className="CirclePattern";Ut.classNames=$.classNames.concat([Ut.className]);class qt extends ${_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const t=this.get("width",100),e=this.get("height",100),i=this.get("gap",0),s=this.get("strokeWidth",1);if(!i)this._display.moveTo(0,0),this._display.lineTo(t,0);else{let n=i+s,o=e/n,d=this.get("angle",0)*Math.PI/180;if(d===0)for(let g=-o;g<o*2;g++){const l=Math.round(g*n-n/2)+.5;this._display.moveTo(-t,l),this._display.lineTo(t*2,l)}else{const g=Math.cos(d),l=Math.sin(d),c=Math.sqrt(t*t+e*e)*2,h=n/Math.max(Math.abs(g),Math.abs(l)),p=Math.ceil(c/h)*2;for(let m=-p;m<p;m++){const u=m*n,f=u*l-c*g,v=u*g+c*l,x=u*l+c*g,y=u*g-c*l;this._display.moveTo(f,v),this._display.lineTo(x,y)}}}this._display.lineStyle(s,this.get("color"),this.get("colorOpacity"));let a=this.get("strokeDasharray");E(a)&&(a<.5?a=[0]:a=[a]),this._display.setLineDash(a);const r=this.get("strokeDashoffset");r&&this._display.setLineDashOffset(r),this._display.endStroke()}}qt.className="LinePattern";qt.classNames=$.classNames.concat([qt.className]);class Zt extends ${_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();const t=this.get("checkered",!1),e=this.get("centered",!0),i=this.get("gap",0),s=this.get("rotation",0);let a=this.get("width",100),r=this.get("height",100),n=this.get("maxWidth",5),o=this.get("maxHeight",5);const d=this._display;let g=n+i,l=o+i,c=Math.round(a/g),h=Math.round(r/l);g=a/c,l=r/h,s!=0&&(d.x=g/2*At(s),d.y=-l/2*Lt(s));for(let u=s==0?0:-h*2;u<h*2;u++)for(let f=s==0?0:-c*2;f<c*2;f++)if(!t||(u&1)!=1&&(f&1)!=1||(u&1)==1&&(f&1)==1){let v=f*g,x=u*l;e&&(v+=(g-n)/2,x+=(l-o)/2),d.drawRect(v,x,n,o)}t?(a=a/2-i*2,r=r/2-i*2):(a-=i,r-=i);const p=this.get("color"),m=this.get("colorOpacity");(p||m)&&(d.beginFill(p,m),d.endFill())}}Zt.className="RectanglePattern";Zt.classNames=$.classNames.concat([Zt.className]);class Ce extends ${_beforeChanged(){super._beforeChanged(),this.isDirty("svgPath")&&(this._clear=!0)}_draw(){super._draw();const t=this.get("svgPath");t!=null&&this._display.svgPath(t);const e=this.get("color"),i=this.get("colorOpacity");(e||i)&&(this._display.beginFill(e,i),this._display.endFill())}}Ce.className="PathPattern";Ce.classNames=$.classNames.concat([Ce.className]);class Se extends G{_afterNew(){if(super._afterNewApplyThemes(),this.get("patterns",[]).length===0){const t=this.get("color",this.root.interfaceColors.get("stroke"));this.set("patterns",[this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:1,color:t}),this.getRectanglePattern({width:10,height:10,rotation:0,maxWidth:4,maxHeight:4,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:1,gap:6,color:t}),this.getCirclePattern({width:11,height:11,radius:2,color:t}),this.getLinePattern({width:6,height:6,rotation:90,strokeWidth:1,color:t}),this.getRectanglePattern({width:14,height:14,rotation:45,gap:4,maxWidth:6,maxHeight:6,checkered:!0,color:t}),this.getLinePattern({width:6,height:6,rotation:0,strokeWidth:1,color:t}),this.getRectanglePattern({width:15,height:15,rotation:0,gap:5,maxWidth:5,maxHeight:5,checkered:!0,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:2,gap:3,strokeDasharray:[4,2],color:t}),this.getCirclePattern({width:20,height:20,radius:3,gap:4,checkered:!0,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:2,gap:3,strokeDasharray:[4,2],color:t}),this.getRectanglePattern({width:10,height:10,rotation:0,gap:1,maxWidth:9,maxHeight:9,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:2,gap:1,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:2,gap:1,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:0,strokeWidth:3,gap:1,color:t}),this.getLinePattern({width:1e3,height:1e3,rotation:90,strokeWidth:3,gap:1,color:t})])}this._dirty.patterns=!1}_beforeChanged(){this.isDirty("patterns")&&this.reset()}getIndex(t){const e=this.get("patterns",[]);if(t<e.length&&e[t]!==null)return e[t];if(t>e.length-1){const i=t-Math.floor(t*(t/e.length));return e[i]}return e[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0))}getLinePattern(t){return qt.new(this.root,t)}getRectanglePattern(t){return Zt.new(this.root,t)}getCirclePattern(t){return Ut.new(this.root,t)}}Se.className="PatternSet";Se.classNames=G.classNames.concat([Se.className]);class Os{static parse(t,e){e=this._applyDefaults(e);try{if(bt(t)){let i=JSON.parse(t);return e.reverse&&ce(i)&&i.reverse(),i}else{if(ce(t)||$t(t))return t;throw"Unable to parse JSON data"}}catch{return}}static _applyDefaults(t){const e={},i={reverse:!1};return t||(t={}),j(i,(s,a)=>{e[s]=t[s]||a}),e}}class Rs{static parse(t,e){e=this._applyDefaults(e);let i=this.CSVToArray(t,e.delimiter),s=[],a=[],r,n;for(n=0;n<e.skipRows;n++)i.shift();if(e.useColumnNames){a=i.shift();for(let d=0;d<a.length;d++)r=a[d]!=null?a[d].replace(/^\s+|\s+$/gm,""):"",r===""&&(r="col"+d),a[d]=r}let o;for(;o=e.reverse?i.pop():i.shift(),!!o;){if(e.skipEmpty&&o.length===1&&o[0]==="")continue;let d={};for(n=0;n<o.length;n++)r=a[n]===void 0?"col"+n:a[n],d[r]=o[n];s.push(d)}return s}static CSVToArray(t,e){e=e||",";let i=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),s=[[]],a=null;for(;a=i.exec(t),!!a;){let r=a[1];r.length&&r!==e&&s.push([]);let n;a[2]?n=a[2].replace(new RegExp('""',"g"),'"'):n=a[3],s[s.length-1].push(n)}return s}static _applyDefaults(t){const e={},i={delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1};return t||(t={}),j(i,(s,a)=>{e[s]=t[s]||a}),e}}class Hs extends G{constructor(){super(...arguments),this._checkDates=!1,this._checkNumbers=!1,this._checkColors=!1,this._checkEmpty=!1,this._checkDeep=!1}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=this.get("emptyAs")!=null),this._checkDeepFeatures()}_checkDeepFeatures(){const t=[];w(["dateFields","numericFields","colorFields"],e=>{w(this.get(e,[]),i=>{const s=i.split(".");for(s.pop();s.length>0;)t.push(s.join(".")),s.pop()})}),this._checkDeep=t.length>0,this.setPrivate("deepFields",t)}processMany(t){ce(t)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&w(t,e=>{this.processRow(e)})}processRow(t,e=""){j(t,(i,s)=>{const a=e+i;this._checkEmpty&&(t[i]=this._maybeToEmpty(t[i])),this._checkNumbers&&(t[i]=this._maybeToNumber(a,t[i])),this._checkDates&&(t[i]=this._maybeToDate(a,t[i])),this._checkColors&&(t[i]=this._maybeToColor(a,t[i])),this._checkDeep&&this.getPrivate("deepFields",[]).indexOf(a)!==-1&&$t(t[i])&&this.processRow(t[i],a+".")})}_maybeToNumber(t,e){return this.get("numericFields").indexOf(t)!==-1?Z(e):e}_maybeToDate(t,e){return this.get("dateFields").indexOf(t)!==-1?this._root.dateFormatter.parse(e,this.get("dateFormat","")).getTime():e}_maybeToEmpty(t){return(t==null||t=="")&&this.get("emptyAs")!=null?this.get("emptyAs"):t}_maybeToColor(t,e){return this.get("colorFields").indexOf(t)!==-1?W.fromAny(e):e}}class Me extends D{constructor(){super(...arguments),this.rectangle=this.children.push(Jt.new(this._root,{themeTags:["rectangle"],fillOpacity:0,fill:tt(16777215)})),this.gripL=this._createGrip("left"),this.gripR=this._createGrip("right"),this.gripT=this._createGrip("top"),this.gripB=this._createGrip("bottom"),this._is=1,this._ix=0,this._iw=0,this._isHover=!1}_afterNew(){super._afterNew(),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",t=>{this._resize(t.target,-1)}),this.gripR.events.on("dragged",t=>{this._resize(t.target,1)}),this.gripL.events.on("dragstart",t=>{this._resizeStart(t.target)}),this.gripR.events.on("dragstart",t=>{this._resizeStart(t.target)}),this.gripT.events.on("dragged",t=>{this._rotate(t,90)}),this.gripB.events.on("dragged",t=>{this._rotate(t,-90)}),this.gripT.events.on("dragstart",t=>{this._resizeStart(t.target)}),this.gripB.events.on("dragstart",t=>{this._resizeStart(t.target)})}_resizeStart(t){const e=this.get("sprite");e&&(this._is=e.get("scale",1),this._ix=t.x(),this._iw=this.width()/2)}_resize(t,e){const i=this.get("sprite"),s=this.get("spriteTemplate");if(i){const a=Math.max(.01,this._is*(1+e*(t.x()-this._ix)/this._iw));s?s.set("scale",a):i.set("scale",a),i.states.lookup("default").set("scale",a),this._updatePositions()}}_rotate(t,e){const i=this.get("sprite"),s=this.get("spriteTemplate");if(i){const a=this.parent;if(a){const r=this.get("rotationStep",10);let n=Math.round((he({x:this.x(),y:this.y()},a.toLocal(t.point))+e)/r)*r;s?s.set("rotation",n):i.set("rotation",n),i.states.lookup("default").set("rotation",n),this._updatePositions()}}}_createGrip(t){const e=this.children.push(D.new(this._root,{themeTags:["grip",t],setStateOnChildren:!0,draggable:!0}));return e.children.push(zt.new(this._root,{themeTags:["outline"],centerX:ct,centerY:ct})),e.children.push(zt.new(this._root,{centerX:ct,centerY:ct})),e}_updateChildren(){if(super._updateChildren(),this.isDirty("sprite")){const t=this.get("sprite");if(t){this.show(0),this.setPrivate("visible",!0),this._updatePositions();const e=t.parent;e&&e.children.moveValue(this,0),this._positionDP=t.events.on("positionchanged",()=>{this._updatePositions()}),this._positionDP=t.events.on("boundschanged",()=>{this._updatePositions()})}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}_updatePositions(){const t=this.get("sprite");if(t){let e=t.localBounds(),i=t.get("scale",1),s=20,a=(e.right-e.left)*i+s,r=(e.bottom-e.top)*i+s,n=t.get("rotation",0);const o=this.rectangle;let d=t.get("centerX",ct),g=t.get("centerY",ct),l=0;d instanceof st&&(l=d.value);let c=0;g instanceof st&&(c=g.value),o.setAll({centerX:d,centerY:g,width:a,height:r}),this.setAll({x:t.x()+s*(l-.5)*At(n)-s*(c-.5)*Lt(n),y:t.y()+s*(c-.5)*At(n)+s*(l-.5)*Lt(n),width:a,height:r,rotation:n}),this.gripT.setAll({x:(.5-l)*a,y:-c*r}),this.gripB.setAll({x:(.5-l)*a,y:(1-c)*r}),this.gripL.setAll({x:-l*a,y:(.5-c)*r}),this.gripR.setAll({x:(1-l)*a,y:(.5-c)*r}),this.rectangle.setAll({width:a,height:r})}}}Me.className="SpriteResizer";Me.classNames=D.classNames.concat([Me.className]);class De extends D{constructor(){super(...arguments),this.label=this.children.push(Ii.new(this._root,{})),this.buttonsContainer=this.children.push(D.new(this._root,{themeTags:["buttons"]})),this.upButton=this.buttonsContainer.children.push(ot.new(this._root,{themeTags:["upbutton"]})),this.downButton=this.buttonsContainer.children.push(ot.new(this._root,{themeTags:["downbutton"]}))}_afterNew(){this.addTag("numericstepper"),this.set("layout",this._root.horizontalLayout),this.label.adapters.add("text",t=>(t&&t.replace(/\D/g,""),t===""&&(t="0"),t)),this.set("background",Jt.new(this._root,{fillOpacity:0,fill:tt(16777215)})),this.buttonsContainer.states.create("hidden",{opacity:0,visible:!0}),this.events.on("pointerover",()=>{this.buttonsContainer.set("active",!0)}),this.events.on("pointerout",()=>{this.buttonsContainer.set("active",!1)}),this.label.on("text",t=>{if(t){const e=parseFloat(t);isNaN(e)||this.set("value",e)}}),this.upButton.events.on("click",()=>{this.set("value",this.get("value",0)+1)}),this.downButton.events.on("click",()=>{this.set("value",Math.max(0,this.get("value",0)-1))}),super._afterNew()}_updateChildren(){super._updateChildren();const t=this.get("value",0),e=this.label;if(this.isDirty("value")&&e.set("text",t.toString()),this.isDirty("disabled")){const i=this.get("disabled",!1);this.set("interactive",!i),this.upButton.set("interactive",!i),this.downButton.set("interactive",!i),i?(this.label.set("editOn","none"),this.buttonsContainer.hide(0)):(this.label.set("editOn","click"),this.buttonsContainer.show(0))}}}De.className="NumericStepper";De.classNames=D.classNames.concat([De.className]);class Ee extends D{constructor(){super(...arguments),this.circle=this.children.push(Gt.new(this._root,{themeTags:["background"]})),this.label=this.children.push(xt.new(this._root,{})),this.slice=this.children.push(Ie.new(this._root,{isMeasured:!1})),this.backgroundSlice=this.children.push(Ie.new(this._root,{themeTags:["background"]}))}_afterNew(){this.addTag("progresspie"),super._afterNew()}_updateChildren(){if(super._updateChildren(),this.isDirty("width")||this.isDirty("height")||this.isDirty("radius")||this.isDirty("innerRadius")){const t=this.innerWidth(),e=this.innerHeight(),i=Pt(this.get("radius",N),Math.min(t,e)/2),s=Pt(this.get("innerRadius",Kt(80)),i);this.slice.setAll({radius:i,innerRadius:s}),this.backgroundSlice.setAll({radius:i,innerRadius:s}),this.circle.set("radius",i)}if(this.isDirty("value")){const t=this.get("value",0);this.slice.set("arc",t*360),this.backgroundSlice.set("arc",360),this.label.setAll({text:this.getNumberFormatter().format(t*100,this.get("numberFormat","#'"))}),this.root.events.once("frameended",()=>{this.label.markDirtyKey("text")})}}}Ee.className="ProgressPie";Ee.classNames=D.classNames.concat([Ee.className]);function As(_,t,e){return new Promise((i,s)=>{let a=e!=null&&e.responseType=="blob",r=new XMLHttpRequest;if(r.onload=()=>{if(r.status===200){let n,o;if(a){o=r.response,ri(o).then(g=>{let l={xhr:r,error:!1,response:g,blob:o,type:r.getResponseHeader("Content-Type"),target:t};i(l)});return}else n=r.responseText||r.response;let d={xhr:r,error:!1,response:n,blob:o,type:r.getResponseHeader("Content-Type"),target:t};i(d)}else s({xhr:r,error:!0,type:r.getResponseHeader("Content-Type"),target:t})},r.onerror=()=>{s({xhr:r,error:!0,type:r.getResponseHeader("Content-Type"),target:t})},r.open("GET",_,!0),e&&e.withCredentials&&(r.withCredentials=!0),e!=null){if(e.requestHeaders!=null)for(let n=0;n<e.requestHeaders.length;n++){let o=e.requestHeaders[n];r.setRequestHeader(o.key,o.value)}e.responseType!=null&&(r.responseType=e.responseType)}r.send()})}function ri(_){return new Promise((t,e)=>{const i=new FileReader;i.onload=s=>{t(i.result)},i.onerror=s=>{e(s)},i.readAsText(_)})}const Ys=Object.freeze(Object.defineProperty({__proto__:null,load:As,readBlob:ri},Symbol.toStringTag,{value:"Module"}));export{zi as ArrayDisposer,fi as BlendMode,ue as Bullet,Et as Button,Rs as CSVParser,Bs as CanvasLayer,Ds as CanvasRenderer,Gs as Chart,Gt as Circle,Ut as CirclePattern,W as Color,Xs as ColorSet,Vs as Component,fe as ConfirmButton,D as Container,Qe as CounterDisposer,Us as DataItem,Hs as DataProcessor,qi as DateFormatter,rt as Disposer,Zi as DurationFormatter,Ii as EditableLabel,ge as Ellipse,G as Entity,nt as Gradient,ke as GrainPattern,z as Graphics,vi as GridLayout,me as HeatLegend,xi as HorizontalLayout,Wt as InterfaceColors,Os as JSONParser,qs as JsonData,xt as Label,Zs as Layout,ye as Legend,Ks as Line,qt as LinePattern,Vt as LinearGradient,xe as Link,Js as ListData,ft as ListTemplate,de as Modal,Nt as MultiDisposer,ua as MutableValueDisposer,Vi as NumberFormatter,De as NumericStepper,it as OrthogonalLine,Ce as PathPattern,$ as Pattern,Se as PatternSet,st as Percent,ve as Picture,js as PicturePattern,yt as PointedRectangle,pe as Polygon,Ee as ProgressPie,Te as RadialGradient,$s as RadialLabel,Qs as RadialText,Jt as Rectangle,Zt as RectanglePattern,ai as Root,zt as RoundedRectangle,ti as Scrollbar,ta as SerialChart,je as Series,Ie as Slice,be as Slider,$e as Sprite,Me as SpriteResizer,_e as Star,gt as Template,Ti as Text,et as TextFormatter,fa as Theme,ea as Tick,Ui as Timezone,kt as Tooltip,ot as Triangle,yi as VerticalLayout,we as ZoomTools,Xt as ZoomableContainer,ia as addLicense,pa as array,tt as color,sa as disposeAllRootElements,aa as ease,ra as getRootById,na as math,Ys as net,ga as object,oa as p0,N as p100,ct as p50,Kt as percent,ha as ready,lt as registry,la as time,_a as type,ca as utils};
