import{d as w,c as n,a as t,t as d,l as k,o,_ as g,p as D,b as S,u as _,R as $,w as F,F as h,k as v,f,m as I,v as M,h as x,n as B}from"./index-CLJoXIYq.js";const N={class:"mst-dashboard-section"},R={class:"mst-dashboard-section__title"},T={class:"mst-dashboard-section__grid"},V=w({__name:"DashboardSection",props:{title:{}},setup(a){return(u,r)=>(o(),n("section",N,[t("h3",R,d(a.title),1),t("div",T,[k(u.$slots,"default",{},void 0,!0)])]))}}),J=g(V,[["__scopeId","data-v-2101a640"]]),A={class:"mst-canvas-card"},U={key:0,class:"mst-canvas-card__preview"},L=["src"],q={key:1,class:"mst-canvas-card__preview mst-canvas-card__preview--placeholder"},z={class:"mst-canvas-card__body"},E={class:"mst-canvas-card__title"},O={class:"mst-canvas-card__meta"},P={class:"mst-canvas-card__author"},Y=["aria-label"],j=w({__name:"CanvasCard",props:{canvas:{},showFavorite:{type:Boolean},showMessage:{type:Boolean}},emits:["toggle-favorite"],setup(a,{emit:u}){const r=a,p=x(),c=D(),y=u,m=B(()=>{const e=r.canvas.owner;if(!e)return null;const s=c.user?.id&&String(e)===String(c.user.id),i=s?c.user?.username:r.canvas.ownerUsername,l=s?c.user?.id:e;return`${i&&i.trim()?i.trim():"User"}#${l}`});function b(e){e.preventDefault(),e.stopPropagation(),r.canvas.owner&&r.canvas.owner!==c.user?.id&&p.push({path:"/app/messages",query:{userId:r.canvas.owner}})}function C(e){const s=new Date(e),l=new Date().getTime()-s.getTime();return l<864e5?"Today":l<1728e5?"Yesterday":s.toLocaleDateString()}return(e,s)=>(o(),n("article",A,[S(_($),{to:{name:"canvas-editor",params:{id:a.canvas.id}},class:"mst-canvas-card__link"},{default:F(()=>[a.canvas.previewImage?(o(),n("div",U,[t("img",{src:a.canvas.previewImage,alt:""},null,8,L)])):(o(),n("div",q,[...s[1]||(s[1]=[t("span",{class:"mst-canvas-card__placeholder-label"},"Canvas",-1)])])),t("div",z,[t("h4",E,d(a.canvas.name),1),t("p",O,[m.value?(o(),n(h,{key:0},[t("span",P,d(m.value),1),s[2]||(s[2]=t("span",null," · ",-1))],64)):v("",!0),f(" "+d(C(a.canvas.updatedAt))+" ",1),a.canvas.stats?.elementsCount?(o(),n(h,{key:1},[f(" · "+d(a.canvas.stats.elementsCount)+" items ",1)],64)):v("",!0)])])]),_:1},8,["to"]),a.showFavorite!==!1?(o(),n("button",{key:0,type:"button",class:M(["mst-canvas-card__fav",{"mst-canvas-card__fav--on":a.canvas.isFavorite}]),"aria-label":a.canvas.isFavorite?"Remove from favorites":"Add to favorites",onClick:s[0]||(s[0]=I(i=>y("toggle-favorite",a.canvas.id),["prevent"]))}," ★ ",10,Y)):v("",!0),a.showMessage&&a.canvas.owner&&a.canvas.owner!==_(c).user?.id?(o(),n("button",{key:1,type:"button",class:"mst-canvas-card__msg","aria-label":"Message owner",onClick:b}," Message ")):v("",!0)]))}}),K=g(j,[["__scopeId","data-v-a9057163"]]);export{K as C,J as D};
