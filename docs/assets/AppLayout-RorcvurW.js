import{x as g,r as x,d as N,p as B,c as v,u as a,k as y,a as e,b as n,w as i,R as p,v as R,t as V,e as A,f as r,n as L,h as T,o as k,s as M,_ as O}from"./index-DRMhAQNZ.js";import{u as D}from"./canvas.store-B0EIOMK2.js";import{u as H}from"./useMediaQuery-Bx2_Ol7Q.js";function I(){const{isNarrow:m}=H(),s=x(!1);g(m,l=>{l||(s.value=!1)});function d(){s.value=!0}function c(){s.value=!1}function _(){s.value=!s.value}return{sidebarOpen:s,isNarrow:m,openSidebar:d,closeSidebar:c,toggleSidebar:_}}const P={class:"mst-app-layout"},z={class:"mst-app-sidebar__nav"},E={class:"mst-app-layout__content"},F={class:"mst-app-layout__topbar"},U={class:"mst-app-layout__title"},h={class:"mst-app-layout__main"},j=N({__name:"AppLayout",setup(m){const s=M(),d=T(),c=B(),_=D(),{sidebarOpen:l,isNarrow:u,toggleSidebar:C,closeSidebar:o}=I(),w=L(()=>{const b=s.meta.title;return b||(s.name==="canvas-editor"||s.name==="canvas-new"?_.currentCanvas?.meta?.name??"Canvas":s.meta.section??"My Story Team")});function S(){c.logout(),d.replace("/")}return(b,t)=>(k(),v("div",P,[a(u)&&a(l)?(k(),v("div",{key:0,class:"mst-app-sidebar-backdrop",onClick:t[0]||(t[0]=(...f)=>a(o)&&a(o)(...f))})):y("",!0),e("aside",{class:R(["mst-app-sidebar",{"mst-app-sidebar--drawer":a(u),"mst-app-sidebar--drawer-open":a(u)&&a(l)}])},[t[8]||(t[8]=e("div",{class:"mst-app-sidebar__header"},[e("span",{class:"mst-app-sidebar__logo"},"My Story Team")],-1)),e("nav",z,[n(a(p),{to:"/app/dashboard",class:"mst-app-sidebar__nav-item",onClick:a(o)},{default:i(()=>[...t[2]||(t[2]=[r(" Dashboard ",-1)])]),_:1},8,["onClick"]),n(a(p),{to:"/",class:"mst-app-sidebar__nav-item",onClick:a(o)},{default:i(()=>[...t[3]||(t[3]=[r(" Home ",-1)])]),_:1},8,["onClick"]),n(a(p),{to:"/app/profile",class:"mst-app-sidebar__nav-item",title:"Profile",onClick:a(o)},{default:i(()=>[...t[4]||(t[4]=[r(" Profile ",-1)])]),_:1},8,["onClick"]),n(a(p),{to:"/app/browse",class:"mst-app-sidebar__nav-item",onClick:a(o)},{default:i(()=>[...t[5]||(t[5]=[r(" Browse ",-1)])]),_:1},8,["onClick"]),n(a(p),{to:"/app/messages",class:"mst-app-sidebar__nav-item",onClick:a(o)},{default:i(()=>[...t[6]||(t[6]=[r(" Messages ",-1)])]),_:1},8,["onClick"]),n(a(p),{to:"/app/ai-helper",class:"mst-app-sidebar__nav-item",onClick:a(o)},{default:i(()=>[...t[7]||(t[7]=[r(" AI Helper ",-1)])]),_:1},8,["onClick"]),e("button",{type:"button",class:"mst-app-sidebar__nav-item mst-app-sidebar__nav-item--btn",onClick:S}," Log out ")])],2),e("div",E,[e("header",F,[a(u)?(k(),v("button",{key:0,type:"button",class:"mst-app-layout__menu-btn","aria-label":"Open menu",onClick:t[1]||(t[1]=(...f)=>a(C)&&a(C)(...f))}," â˜° ")):y("",!0),e("h2",U,V(w.value),1)]),e("main",h,[n(a(A))])]),t[9]||(t[9]=e("p",{class:"mst-attribution"},[r(" Uicons by "),e("a",{href:"https://www.flaticon.com/uicons",target:"_blank",rel:"noopener noreferrer"},"Flaticon")],-1))]))}}),K=O(j,[["__scopeId","data-v-286342c4"]]);export{K as default};
